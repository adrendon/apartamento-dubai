/*! For license information please see 9774.js.LICENSE.txt */
(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[9774],{57726:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(o.apply(this,n));else if("object"===i)if(n.toString===Object.prototype.toString)for(var r in n)s.call(n,r)&&n[r]&&e.push(this&&this[r]||r);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},72286:()=>{},1132:()=>{},93607:(e,t,n)=>{var s;!function(o,i){var r={};function a(e){return function(){var t={method:e},n=Array.prototype.slice.call(arguments);/^get/.test(e)?(r.assert(n.length>0,"Get methods require a callback."),n.unshift(t)):(/^set/.test(e)&&(r.assert(0!==n.length,"Set methods require a value."),t.value=n[0]),n=[t]),this.send.apply(this,n)}}r.DEBUG=!1,r.VERSION="0.0.11",r.CONTEXT="player.js",r.POST_MESSAGE=!!o.postMessage,r.origin=function(e){return"//"===e.substr(0,2)&&(e=o.location.protocol+e),e.split("/").slice(0,3).join("/")},r.addEvent=function(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},r.log=function(){r.log.history=r.log.history||[],r.log.history.push(arguments),o.console&&r.DEBUG&&o.console.log(Array.prototype.slice.call(arguments))},r.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},r.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isNone=function(e){return null==e},r.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.indexOf=function(e,t){if(null==e)return-1;var n=0,s=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;n<s;n++)if(e[n]===t)return n;return-1},r.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},r.Keeper=function(){this.init()},r.Keeper.prototype.init=function(){this.data={}},r.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},r.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(r.isNone(t))return!0;for(var n=this.data[e],s=0;s<n.length;s++)if(n[s].id===t)return!0;return!1},r.Keeper.prototype.add=function(e,t,n,s,o){var i={id:e,event:t,cb:n,ctx:s,one:o};this.has(t)?this.data[t].push(i):this.data[t]=[i]},r.Keeper.prototype.execute=function(e,t,n,s){if(!this.has(e,t))return!1;for(var o=[],i=[],a=0;a<this.data[e].length;a++){var c=this.data[e][a];r.isNone(t)||!r.isNone(t)&&c.id===t?(i.push({cb:c.cb,ctx:c.ctx?c.ctx:s,data:n}),!1===c.one&&o.push(c)):o.push(c)}0===o.length?delete this.data[e]:this.data[e]=o;for(var l=0;l<i.length;l++){var d=i[l];d.cb.call(d.ctx,d.data)}},r.Keeper.prototype.on=function(e,t,n,s){this.add(e,t,n,s,!1)},r.Keeper.prototype.one=function(e,t,n,s){this.add(e,t,n,s,!0)},r.Keeper.prototype.off=function(e,t){var n=[];if(!this.data.hasOwnProperty(e))return n;for(var s=[],o=0;o<this.data[e].length;o++){var i=this.data[e][o];r.isNone(t)||i.cb===t?r.isNone(i.id)||n.push(i.id):s.push(i)}return 0===s.length?delete this.data[e]:this.data[e]=s,n},r.Player=function(e,t){if(!(this instanceof r.Player))return new r.Player(e,t);this.init(e,t)},r.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},r.EVENTS.all=function(){var e=[];for(var t in r.EVENTS)r.has(r.EVENTS,t)&&r.isString(r.EVENTS[t])&&e.push(r.EVENTS[t]);return e},r.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},r.METHODS.all=function(){var e=[];for(var t in r.METHODS)r.has(r.METHODS,t)&&r.isString(r.METHODS[t])&&e.push(r.METHODS[t]);return e},r.READIED=[],r.Player.prototype.init=function(e,t){var n=this;r.isString(e)&&(e=i.getElementById(e)),this.elem=e,r.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),r.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=r.origin(e.src),this.keeper=new r.Keeper,this.isReady=!1,this.queue=[],this.events=r.EVENTS.all(),this.methods=r.METHODS.all(),r.POST_MESSAGE?r.addEvent(o,"message",(function(e){n.receive(e)})):r.log("Post Message is not Available."),r.indexOf(r.READIED,e.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},r.Player.prototype.send=function(e,t,n){if(e.context=r.CONTEXT,e.version=r.VERSION,t){var s=this.keeper.getUUID();e.listener=s,this.keeper.one(s,e.method,t,n)}return this.isReady||"ready"===e.value?(r.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(r.log("Player.queue",e),this.queue.push(e),!1)},r.Player.prototype.receive=function(e){if(r.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==r.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},r.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var n=this.queue[t];r.log("Player.dequeue",n),"ready"===e.event&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},r.Player.prototype.on=function(e,t,n){var s=this.keeper.getUUID();return"ready"===e?this.keeper.one(s,e,t,n):this.keeper.on(s,e,t,n),this.send({method:"addEventListener",value:e,listener:s}),!0},r.Player.prototype.off=function(e,t){var n=this.keeper.off(e,t);if(r.log("Player.off",n),n.length>0)for(var s in n)return this.send({method:"removeEventListener",value:e,listener:n[s]}),!0;return!1},r.Player.prototype.supports=function(e,t){r.assert(r.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=r.isArray(t)?t:[t];for(var n="event"===e?this.events:this.methods,s=0;s<t.length;s++)if(-1===r.indexOf(n,t[s]))return!1;return!0};for(var c=0,l=r.METHODS.all().length;c<l;c++){var d=r.METHODS.all()[c];r.Player.prototype.hasOwnProperty(d)||(r.Player.prototype[d]=a(d))}r.addEvent(o,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==r.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&r.READIED.push(t.value.src)})),r.Receiver=function(e,t){this.init(e,t)},r.Receiver.prototype.init=function(e,t){var n=this;this.isReady=!1,this.origin=r.origin(i.referrer),this.methods={},this.supported={events:e||r.EVENTS.all(),methods:t||r.METHODS.all()},this.eventListeners={},this.reject=!(o.self!==o.top&&r.POST_MESSAGE),this.reject||r.addEvent(o,"message",(function(e){n.receive(e)}))},r.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(r.isObject(e.data))t=e.data;else try{t=o.JSON.parse(e.data)}catch(e){r.log("JSON Parse Error",e)}if(r.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==r.CONTEXT)return!1;if(-1===r.indexOf(r.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var n=r.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===r.indexOf(this.eventListeners[t.value],n)&&this.eventListeners[t.value].push(n):this.eventListeners[t.value]=[n],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var s=r.indexOf(this.eventListeners[t.value],n);s>-1&&this.eventListeners[t.value].splice(s,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,n)},r.Receiver.prototype.get=function(e,t,n){var s=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var o=this.methods[e];if("get"===e.substr(0,3)){o.call(this,(function(t){s.send(e,t,n)}))}else o.call(this,t)},r.Receiver.prototype.on=function(e,t){this.methods[e]=t},r.Receiver.prototype.send=function(e,t,n){if(r.log("Receiver.send",e,t,n),this.reject)return r.log("Receiver.send.reject",e,t,n),!1;var s={context:r.CONTEXT,version:r.VERSION,event:e};r.isNone(t)||(s.value=t),r.isNone(n)||(s.listener=n);var i=JSON.stringify(s);o.parent.postMessage(i,""===this.origin?"*":this.origin)},r.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;r.log("Instance.emit",e,t,this.eventListeners[e]);for(var n=0;n<this.eventListeners[e].length;n++){var s=this.eventListeners[e][n];this.send(e,t,s)}return!0},r.Receiver.prototype.ready=function(){r.log("Receiver.ready"),this.isReady=!0;var e={src:o.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},r.HTML5Adapter=function(e){if(!(this instanceof r.HTML5Adapter))return new r.HTML5Adapter(e);this.init(e)},r.HTML5Adapter.prototype.init=function(e){r.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new r.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},r.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},r.JWPlayerAdapter=function(e){if(!(this instanceof r.JWPlayerAdapter))return new r.JWPlayerAdapter(e);this.init(e)},r.JWPlayerAdapter.prototype.init=function(e){r.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new r.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var n=e.position,s=e.duration;if(!n||!s)return!1;var o={seconds:n,duration:s};t.emit("timeupdate",o)}));var n=this;e.on("complete",(function(){!0===n.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},r.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},r.MockAdapter=function(){if(!(this instanceof r.MockAdapter))return new r.MockAdapter;this.init()},r.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new r.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},r.MockAdapter.prototype.ready=function(){this.receiver.ready()},r.VideoJSAdapter=function(e){if(!(this instanceof r.VideoJSAdapter))return new r.VideoJSAdapter(e);this.init(e)},r.VideoJSAdapter.prototype.init=function(e){r.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new r.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(n){var s=e.currentTime(),o=e.duration();if(!s||!o)return!1;var i={seconds:s,duration:o};t.emit("timeupdate",i)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},r.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(s=function(){return r}.call(t,n,t,e))||(e.exports=s)}(window,document)},51831:(e,t,n)=>{"use strict";var s;n.d(t,{U:()=>s}),function(e){e.NOTE="note",e.TAG="tag",e.OBJECT="object"}(s||(s={}))},12640:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var s=n(74848),o=n(32485),i=n.n(o),r=n(46587),a=n(51831),c=n(3101),l=n(33354),d=n(14753);function u({inline:e,children:t,parentId:n,canDelete:o,nonViewable:u,attachments:h,annotationType:p,onViewAttachment:m}){const v=(0,r.Rd)(),g=(0,r.hw)(),f=(e,t)=>{m&&m(t)},x=e=>n!==e.parentId?null:(0,s.jsx)(d.P,{id:e.id,fileName:e.file.name,className:"inline",progress:e.progress,error:e.error},e.id),y=p===a.U.NOTE;return(0,s.jsxs)("div",{className:i()("annotation-attachments",{"annotation-attachments-inline":!!e,"annotation-attachments-preview":!u,"annotation-attachments-list":u}),children:[h.map(((t,n)=>{const i=h.length,r=!e&&!u&&(0,c.rV)(t)&&(1===i||0===n&&i>2);let a,d;return y&&(e?(a=60,d=60):r||(a=140,d=140)),(0,s.jsx)(l.o,{attachment:t,inline:!!e,canDelete:!!o,hero:r,onClick:f,thumbnail:!!e||!r,width:a,height:d},t.id)})),v&&v.map(x),g&&g.map(x),t]})}},90757:(e,t,n)=>{"use strict";n.d(t,{G:()=>fe});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(51831),c=n(40409),l=n(25727),d=n(74453),u=n(40936);const{UP:h,DOWN:p,LEFT:m,RIGHT:v,UP_LEFT:g,UP_RIGHT:f,DOWN_LEFT:x,DOWN_RIGHT:y}=l.DH,E=(0,o.memo)((({className:e,onClick:t,children:n})=>{const i=(0,d.S)(),[a,c]=(0,o.useState)(null),{width:l,height:E,ref:b}=(0,u.A)(),[{width:T,height:A},w]=(0,o.useState)({width:0,height:0}),{ref:O}=(0,u.A)({onResize:({width:e,height:t})=>{null===a&&w({width:e||0,height:t||0})}});let N;if((0,o.useEffect)((()=>{if(l&&E&&T&&A&&i){let e=a;const t=i.y<A,n=i.y>E-A,s=i.x<T,o=i.x>l-T;t&&n?e=o&&!s?m:v:t?e=s?y:o?x:p:n?e=s?f:o?g:h:s&&o?e=t?p:h:s?e=v:o?e=m:null===e&&(e=v),e!==a&&c(e)}}),[i,l,E,T,A,a]),l&&i){N=a===v&&i.x>l-T?l-i.x:void 0}return(0,s.jsx)("div",{ref:b,className:"annotations-preview-layer",children:i&&n&&(0,s.jsx)("div",{ref:O,className:r()("annotation-preview",`annotation-preview-${a}`,e),style:{top:i.y,left:i.x,visibility:null===a?"hidden":void 0,width:N},onClick:t,children:n})})}));var b=n(46822),T=n(78063),A=n(17904),w=n(94426),O=n(80700),N=n(80411),C=n(56147),S=n(39869),k=n(48463),j=n(54616);const{NOTES:R}=C.A.SHOWCASE;function L({comment:e,noteView:t}){const n=t?t.created:e.created,o=(0,j.P)(),i=(0,S.Y)(),r=t?t.user.email:e.user.email,a=o.getUserDisplay(r),c=a.color,l=t?t.comments.length-1:0,d=i.t(R.REPLIES,l),u=""===e.text&&!(e.attachments.length>0)?i.t(R.CONTENT_DELETED):n.toLocaleString();return(0,s.jsxs)("header",{className:"note-header",children:[(0,s.jsx)(k.E,{label:a.initials,badgeStyle:{color:c,borderColor:c}}),(0,s.jsxs)("div",{className:"note-details",children:[(0,s.jsx)("span",{className:"note-user",children:a.name}),l>0&&(0,s.jsx)("span",{className:"note-summary-info note-replies",children:d}),(0,s.jsx)("div",{className:"note-subheader",children:u})]})]})}var _=n(42242),P=n(68375);function I(e){const{attachments:t}=e,n=(0,P.s)();if(!(t.length>0))return null;return(0,s.jsx)(_.g,{attachments:t,onClick:(t,s)=>{n.trackToolGuiEvent("notes","notes_preview_click_attachment"),t.stopPropagation(),e.onClick(s)}})}var D=n(43457),M=n(29397),V=n(24865);function G({text:e,noteId:t}){const n=(0,M.V)(),o=(0,V.b)();return(0,s.jsx)("div",{className:r()("note-post",{"note-summary-info":!e}),children:e&&n&&(0,s.jsx)(D.$,{text:e,textParser:n,linkHandler:o,maxLength:150,annotationType:a.U.NOTE,annotationId:t})})}var U=n(12640);function B(e){const t=(0,S.Y)(),{moreAttachmentsCount:n}=e;if(0===n)return null;const o=t.t(C.A.SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT,n);return(0,s.jsx)("div",{className:"attachment attachments-truncated",children:(0,s.jsx)("div",{className:"attachment-view attachment-other ",children:(0,s.jsx)("div",{className:"attachment-label",children:(0,s.jsx)("div",{className:"file-label",children:o})})})})}var H=n(3101),F=n(12103),W=n(71687);const{ANNOTATIONS:K}=C.A.SHOWCASE;function Y(e){const{previewId:t}=e,n=(0,o.useRef)(null),i=(0,S.Y)(),c=(0,O.e)(t),l=(0,N.Z)(t),d=(0,A.S)(W.Et);if((0,o.useEffect)((()=>(l&&n.current&&n.current.focus(),()=>{})),[l]),!l)return null;const u=l.comments.get(0),h=u&&u.attachments.length>0,p=u.attachments.values(),m=(0,H.c9)(p),v=(0,H.rg)(p),g=v.slice(0,F.p8),f=Math.max(v.length-F.p8,0),x=l.comments.length>1||f>0,y=i.t(K.READ_MORE_MESSAGE),E=r()("annotation-preview-contents","note-preview-contents",{"viewable-media":h});return(0,s.jsxs)("div",{ref:n,role:"dialog",tabIndex:0,className:E,onClick:t=>{t.stopPropagation(),e.onClick()},onKeyDown:e=>{"Escape"===e.code&&d&&(e.stopPropagation(),d.closeBillboard())},children:[u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{attachments:m,onClick:e.onClick}),(0,s.jsx)(L,{noteView:l,comment:u}),(0,s.jsx)(G,{text:u.text,noteId:t}),(0,s.jsx)(U.E,{annotationType:a.U.NOTE,attachments:g,children:(0,s.jsx)(B,{moreAttachmentsCount:f})})]}),c&&(0,s.jsxs)("div",{className:"nested-comment-preview",children:[(0,s.jsx)(L,{comment:c}),(0,s.jsx)(G,{text:c.text,noteId:t})]}),x&&(0,s.jsx)("div",{className:"link link-more",children:y})]})}var $=n(3795),J=n(39905),q=n(12460),z=n(83649),X=n(647),Q=n(48270),Z=n(17605),ee=n(55350),te=n(81058),ne=n(38731),se=n(90087),oe=n(90683);const{TAGS:ie}=C.A.SHOWCASE;function re(e){const{tag:t,tagType:n,capabilities:i}=e,c=(0,ne.B)(),l=(0,S.Y)(),d=(0,P.s)(),u=(0,se.L)(),h=c?l.t(ie.EDIT_TAG_LABEL):void 0,p=c?"toggle-pencil":"dock",m=c?void 0:l.t(ie.DOCK_TAG_LABEL),v=t.id,g=(0,oe.a)(t.layerId),f=(0,A.S)(W.Et),x=(0,o.useCallback)((e=>{f&&(e.stopPropagation(),c&&n===a.U.OBJECT?(d.trackToolGuiEvent("object_tags","object_tags_billboard_edit_tag"),u.issueCommand(new te.y_(v))):(d.trackToolGuiEvent("tags",c?"tags_billboard_edit_tag":"tags_billboard_dock_tag"),f.dockAnnotation(v,t.layerId,n)))}),[c,n,d,u,v,f,t.layerId]);return n!==a.U.OBJECT||c?g||!i.share&&!i.dock?(0,s.jsx)("div",{}):(0,s.jsxs)("header",{className:r()("tag-billboard-header",{editable:c}),children:[!c&&i.share&&(0,s.jsx)(ee.k,{prefix:"tag",pin:t,id:t.id,darkTheme:!0,includeCameraView:!0,analyticAction:"tags_copy_share_link",buttonVariant:Q.A.TERTIARY}),i.dock&&(0,s.jsx)(Z.$,{icon:p,label:h,size:Q.M.SMALL,variant:Q.A.TERTIARY,theme:"dark",onClick:x,reverse:!0,tooltip:m,tooltipOptions:{placement:"bottom"}})]}):null}var ae=n(9688),ce=n(98236),le=n(29479);const de=(0,ce.v_)(le.j);var ue=n(40590);const he=(0,ce.v_)(ue.$);var pe=n(5262),me=n(13767);const{ANNOTATIONS:ve}=C.A.SHOWCASE;function ge({onClick:e,previewId:t,previewType:n}){const i=new J.r({links:!0}),c=(0,P.s)(),l=(0,ne.B)(),d=(0,A.S)(W.Et),u=(0,b.d)(),h=(0,q.G)(),p=de(),m=he(),v=(0,S.Y)(),g=(0,z.J)(),f=(0,o.useRef)(null),[x,y]=(0,o.useState)(!1),[E,T]=(0,o.useState)(null),[w,O]=(0,o.useState)({dock:!0,share:!0}),N=(0,pe.i)(me.GK,!0),C=(0,pe.i)(me.AM,!0),k=(0,oe.a)(null==E?void 0:E.layerId),j="true"===(0,pe.i)(me.$Q,!1),R=(0,o.useCallback)((e=>{c.trackToolGuiEvent("tags",e)}),[c]),L=(0,o.useCallback)(((t,n)=>{R("tags_billboard_click_attachment"),e(n)}),[e,R]),_=(0,o.useCallback)((t=>{t.stopPropagation(),k||(R(l?"tags_billboard_click_to_edit":"tags_billboard_click_to_dock"),e())}),[k,e,R,l]),I=(0,o.useCallback)((e=>{y(e)}),[]);(0,o.useEffect)((()=>(E&&f.current&&f.current.focus(),()=>{})),[E]),(0,o.useEffect)((()=>{if(h&&p)switch(n){case a.U.OBJECT:const e=null==m?void 0:m.getObjectTag(t);if(!e)return;const s=e.mattertagId?p.getTag(e.mattertagId):void 0,o=e.toTagView(s);T(Object.assign({},o));break;case a.U.TAG:const i=p.getTag(t),r=h.getTagView(t);if(!i||!r)return void T(null);function c(){const e=null==u?void 0:u.getCapabilities(t);return e&&O(Object.assign({},e)),e}T(Object.assign({},r));const l=c(),d=null==l?void 0:l.onChanged(c),v=i.onChanged((()=>{const e=h.getTagView(t);e&&T(Object.assign({},e))}));return()=>{null==d||d.cancel(),v.cancel()}}}),[u,p,m,t,n,h]);if(!E)return null;const{id:M,label:V,attachments:G,description:K,keywords:Y}=E,Q=(0,H.c9)(G),Z=Q.length>0,ee=(0,H.rg)(G),te=G.some((e=>e.mediaType===$.zu.VIDEO)),se=Math.max(ee.length-F.p8,0);se>0&&(ee.length=F.p8);const ie=v.t(ve.READ_MORE_MESSAGE),ce=(0,s.jsx)(X.P,{attachments:Q,onClick:L}),le=V&&(0,s.jsx)("div",{className:"tag-billboard-title",children:V}),ue=r()("annotation-preview-contents","tag-billboard",{"viewable-media":Z,"has-video":te});return(0,s.jsxs)("div",{ref:f,role:"dialog",tabIndex:0,className:ue,onClick:_,onKeyDown:e=>{"Escape"===e.code&&(e.stopPropagation(),null==d||d.closeBillboard())},children:[(0,s.jsx)(re,{tag:E,tagType:n,capabilities:{share:N&&w.share,dock:C&&w.dock}}),(0,s.jsxs)("div",{className:"tag-billboard-contents",children:[V?(()=>{const e=j?le:ce,t=j?ce:le;return(0,s.jsxs)(s.Fragment,{children:[e,t]})})():ce,K&&(0,s.jsx)("div",{className:"tag-billboard-description",children:(0,s.jsx)(D.$,{text:K,textParser:i,linkHandler:g,annotationType:a.U.TAG,annotationId:M,maxLength:100,maxLines:4,onTruncationChange:I})}),Y&&(0,s.jsx)(ae.B,{keywords:Y,theme:"dark",className:"tag-previewer-keywords"}),ee.length>0&&(0,s.jsx)(U.E,{annotationType:a.U.TAG,attachments:ee,children:(0,s.jsx)(B,{moreAttachmentsCount:se})}),x&&(0,s.jsx)("div",{className:"annotation-read-more",children:(0,s.jsx)("span",{className:"link link-more",children:ie})})]})]})}const fe=(0,o.memo)((({notesEnabled:e,openModal:t})=>{const n=(0,T.B)(),i=(0,P.s)(),l=(0,A.S)(W.Et),{billboardAnnotation:d,selectedAnnotation:u,dockedAnnotation:h}=(0,w.J)((0,b.d)())||{},p=(null==d?void 0:d.annotationType)===a.U.TAG,m=(null==d?void 0:d.annotationType)===a.U.OBJECT,v=e&&(null==d?void 0:d.annotationType)===a.U.NOTE,g=(0,o.useCallback)((()=>{d&&l&&(i.trackGuiEvent(`annotations_dock_${d.annotationType}`),l.dockAnnotation(d.id,d.layerId,d.annotationType))}),[i,d,l]),f=(0,o.useCallback)((()=>{d&&l&&(i.trackGuiEvent(`annotations_select_${d.annotationType}`),l.selectAnnotation(d.id,d.layerId,d.annotationType))}),[i,d,l]),x=(0,o.useCallback)((e=>{if(d){i.trackGuiEvent(v?"click_note_preview":"tags_click_tag_billboard");const{id:t,annotationType:s}=d;e&&!h||m||g(),e&&n.broadcast(new c.z(s,t,e))}}),[d,i,h,m,v,g,n]),y=(0,o.useCallback)((()=>{if(d)if(u)null==l||l.closeAnnotation(d.id,d.annotationType);else{v||h?g():f()}}),[d,g,h,v,f,u,l]);return t?null:(0,s.jsx)(E,{className:r()({"tag-preview":p||m,"note-preview":v}),onClick:y,children:p||m?(0,s.jsx)(ge,{previewId:d.id,previewType:d.annotationType,onClick:x}):v?(0,s.jsx)(Y,{previewId:d.id,onClick:x}):null},null==d?void 0:d.id)}))},43457:(e,t,n)=>{"use strict";n.d(t,{$:()=>g});var s=n(74848),o=n(96540),i=n(17904),r=n(78063),a=n(50747),c=n(75742),l=n(67430),d=n(71687),u=n(40409),h=n(35404),p=n(80419),m=n(12640),v=n(28684);n(72286);function g(e){const{text:t,textParser:n,linkHandler:g,annotationType:f,annotationId:x,edited:y,maxLength:E,maxLines:b,readMore:T,attachments:A,onViewAttachment:w,onTruncationChange:O}=e,[N,C]=(0,o.useState)(!1),S=(0,i.S)(d.Et),k=(0,r.B)(),j=(0,a.F)().tryGetSetting(h.qu,!1);return(0,s.jsxs)("div",{className:"annotation-box",children:[(0,s.jsx)("div",{className:"annotation-text-box",children:(0,s.jsx)(v.A,{text:t,textParser:n,onClickAnchor:j?void 0:e=>{const t=e.target,n=t.dataset.blocktype;if(e.stopPropagation(),n){const s={blockType:n,text:t.innerText,value:t.dataset.value,id:t.dataset.id};if(n===c.n.LINK&&g&&s.value){e.preventDefault();const t=(0,l.A)(s.value),{url:n,modelId:o,pose:i}=t;o?g.handler.openLink({fullLink:n,modelId:o}):i?(g.handler.openLink({fullLink:n,pose:i}),null==S||S.closeAnnotation(x,f)):(g.handler.openLink(n),k.broadcast(new p.Qn(n)))}k.broadcast(new u.v(f,x,s))}},clickableLinks:!j,onTextReplaced:e=>{const t=N;C(e),O&&t!==e&&O(e)},maxLength:E,maxLines:b,readonly:!0})}),y&&(0,s.jsx)("div",{className:"annotation-edited",children:"(edited)"}),T&&N&&(0,s.jsx)("div",{className:"annotation-read-more",children:(0,s.jsx)("span",{className:"link link-more",children:T})}),A&&!j&&(R=A,0===R.length?null:(0,s.jsx)(m.E,{attachments:R,onViewAttachment:w,annotationType:f}))]});var R}},46822:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var s=n(98236),o=n(30926);const i=(0,s.v_)(o.o)},62834:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var s=n(96540),o=n(46822);function i(){const e=(0,o.d)(),[t,n]=(0,s.useState)(e?e.dockedAnnotation:null);return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){n(e?e.dockedAnnotation:null)}const s=e.onChanged(t);return t(),()=>s.cancel()}),[e]),t}(0,n(61260).c)("dockedAnnotation",i)},40409:(e,t,n)=>{"use strict";n.d(t,{v:()=>i,z:()=>o});var s=n(77201);class o extends s.QB{constructor(e,t,n){super(),this.annotationType=e,this.id=t,this.attachmentId=n}}class i extends s.QB{constructor(e,t,n){super(),this.block=n,this.id=t,this.annotationType=e}}},20835:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var s=n(77201),o=n(30740);class i extends s.B_{constructor(){super(),this.name="attachments-data",this.pendingAttachments=(0,s.y3)(),this.removedAttachments=(0,s.y3)(),this.currentUploads=(0,s.y3)(),this.failedUploads=(0,s.y3)()}iteratePending(e){for(const t of this.pendingAttachments)e(t)}iterateRemoved(e){for(const t of this.removedAttachments)e(t)}get pendings(){return this.pendingAttachments}get removals(){return this.removedAttachments}getPendingAttachment(e){return this.pendingAttachments.get(e)}getRemovedAttachment(e){return this.removedAttachments.get(e)}addPending(e){this.pendingAttachments.set(e.id,e)}removePendingAttachment(e){this.pendingAttachments.has(e)&&this.pendingAttachments.delete(e)}clearPending(){this.pendingAttachments.clear()}getPendingAttachmentsForAsset(e,t){const n=[];return this.iteratePending((s=>{s.parentType===t&&s.parentId===e&&n.push(s)})),n}getRemovedAttachmentsForAsset(e,t){const n=[];return this.iterateRemoved((s=>{s.parentType===t&&s.parentId===e&&n.push(s)})),n}markAttachmentForDelete(e){const t=new o.o(e);this.removedAttachments.set(t.id,t)}clearRemovals(){this.removedAttachments.clear()}get uploads(){return this.currentUploads}addUpload(e){this.uploads.set(e.id,e)}updateUpload(e){this.uploads.has(e.id)&&this.uploads.set(e.id,e)}removeUpload(e){this.uploads.has(e)&&this.uploads.delete(e)}clearUploads(){this.uploads.clear()}get failures(){return this.failedUploads}addFailure(e){this.failures.set(e.id,e)}removeFailure(e){this.failures.has(e)&&this.failures.delete(e)}clearFailures(){this.failures.clear()}}},33354:(e,t,n)=>{"use strict";n.d(t,{o:()=>re});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(3795),c=n(68375),l=n(28479),d=n(55285),u=n(56147),h=n(72909),p=n(77570),m=n(42390),v=n(97800),g=n(36220);class f extends o.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:n,onClick:o,style:i}=this.props,a=r()("oembed","oembed-text",e,{"oembed-text--cover":t}),c=n.provider_name?`${n.provider_name} content`:"Embedded content",l=n.author_name?`from ${n.author_name}`:"";return(0,s.jsxs)("div",{className:a,style:i,onClick:o,children:[n.title&&(0,s.jsx)("h3",{children:n.title}),(0,s.jsx)("p",{children:`${c} ${l}`})]})}}const x=["soundcloud","spotify"];class y extends o.Component{constructor(e){super(e)}getAttributes(){const{data:e}=this.props;let t=e.thumbnail_url,n=e.thumbnail_width,s=e.thumbnail_height;return(!t||!n||!s)&&e.type===m.n.PHOTO&&(t=e.url,n=e.width,s=e.height),{url:t,width:n,height:s}}render(){const{className:e,cover:t,data:n,disabled:o,maxHeight:i,maxWidth:a,onClick:c,style:l}=this.props,{url:d,width:u,height:h}=this.getAttributes();if(!d||!u||!h)return(0,s.jsx)(f,Object.assign({},this.props));const p=function(e,t){return e<128||t<128}(u,h),v=!o&&function(e){const t=(e.provider_name||"").toLowerCase();return e.type===m.n.VIDEO?"giphy"!==t:!(e.type!==m.n.RICH||!x.includes(t))}(n),y=r()("oembed","oembed-thumbnail",e,{"oembed-thumbnail--cover":t,"oembed-thumbnail--cover--icon":t&&p}),E=Object.assign(Object.assign({},l),{backgroundImage:`url('${d}')`});if(!t){const{width:e,height:t}=function(e,t,n,s){let o=e,i=t;if(n&&o>n){const e=n/o;o*=e,i&&(i*=e)}if(i&&s&&i>s){const e=s/i;o*=e,i*=e}return{width:o,height:i}}(u,h,a,i);E.width=`${e}px`,E.height=`${t}px`}return t&&p&&(E.maxWidth=1.5*u+"px"),(0,s.jsx)("div",{className:y,style:E,onClick:o?void 0:c,children:v&&(0,s.jsx)(g.K0,{className:"oembed-thumbnail__cta",iconClass:"icon-play-unicode",buttonStyle:g.zt.OVERLAY,buttonSize:g.Tp.LARGE})})}}var E=n(39869),b=n(17605),T=n(9241),A=n(48270);const{ATTACHMENTS:w}=u.A.SHOWCASE,O=({id:e,className:t,onClick:n,url:i,cover:a,style:c,containerWidth:l,downloadUrl:u,onDownload:h})=>{const p=(0,E.Y)(),{height:m}=(0,d.lW)(),v=(0,o.useCallback)((t=>{n&&n(t,e)}),[n,e]),g=p.t(w.DOWNLOAD_TOOLTIP),f=r()({"image-cover":!!a},t),x=4/3,y=.8*m,O=Math.min(Math.round(l/x),y);return(0,s.jsxs)("div",{className:r()("oembed-image fill-cover-image",f),style:Object.assign(Object.assign({},c),{minHeight:O,maxWidth:l}),onClick:n?v:void 0,children:[(0,s.jsx)("div",{className:"fill-blur",style:{backgroundImage:`url('${i}')`}}),(0,s.jsxs)("div",{className:"image-wrapper",children:[(0,s.jsx)("img",{className:r()("image",f),src:i,style:{maxHeight:Math.min(y,Math.round(l*x))},onClick:n?v:void 0}),(0,s.jsx)("div",{className:"image-actions",children:u?(0,s.jsx)(b.$,{icon:"download",theme:"overlay",tooltip:g,iconSize:T.l.SMALL,variant:A.A.TERTIARY,tooltipOptions:{size:"small"},onClick:e=>{window.open(u,"_self"),null==h||h(e)}}):null})]})]})};class N extends o.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:n,onClick:o,style:i,containerWidth:a}=this.props,c=r()("oembed","oembed-photo",e,{"oembed-photo--cover":t});return(0,s.jsx)(O,{url:n.url,style:i,onClick:o,className:c,containerWidth:a})}}function C(e){const{className:t,children:n}=e;if(!n)return null;const o=r()("oembed","oembed-loading",t);return(0,s.jsx)("div",{className:o,children:n})}var S=n(23716);const k={flickr:!0,instagram:!0},j=/^<iframe.*>.*<\/iframe>$/;function R(e){return j.test(e)}function L(e,t){let n;return n=R(e)?function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.firstChild,s=n.style;return s.maxWidth="100%",s.maxHeight="100%",s.minWidth="",s.minHeight="",n}(e):function(e,t){const n=document.createElement("iframe");n.setAttribute("allow","encrypted-media; autoplay; fullscreen");let s="";return s=t&&t===S.K.Instagram?"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img { display: block; max-width: 100%; height: auto; border: 0; }\n        iframe { display: block; max-width: 100%; border: 0; }\n      </style>\n    ":"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img, iframe { display: block; max-width: 100%; height: auto; border: 0; }\n      </style>\n    ",n.srcdoc=`<!doctype html>${s.replace(/\s+/g," ")}${e}`,n}(e,t),n.src||(e=>void 0!==e&&!!k[e.toLowerCase()])(t)?n.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-presentation allow-popups-to-escape-sandbox"):n.setAttribute("sandbox","allow-same-origin"),n}var _=n(12103);function P(e){const{className:t,data:n,loadingComponent:i,onClick:a,style:c,onLoad:l}=e,[d,u]=(0,o.useState)(),[h,p]=(0,o.useState)(),[v,g]=(0,o.useState)(!0),[f,x]=(0,o.useState)(n.height);(0,o.useLayoutEffect)((()=>{const e=d;let t=null;if(e){for(;e.lastChild;)e.removeChild(e.lastChild);const s=L(n.html,n.provider_name);s.onload=()=>{l&&s&&l(s),g(!1)},e.appendChild(s),t=e=>{const t=(e=>{let t;try{t=JSON.parse(e.data)}catch(e){return}if("iframe.resize"!==t.context)return;const n=t.src.replace(/http(s?):\/\//,"//"),s=document.querySelector('iframe[src="'+n+'"]');return s?{iframe:s,height:t.height}:void 0})(e);t&&t.iframe===s&&x(t.height)},window.addEventListener("message",t)}return()=>{t&&window.removeEventListener("message",t)}}),[d,n.html,n.provider_name,l]);const y=(0,o.useCallback)((e=>{e&&(p(e.offsetWidth),u(e))}),[]),E=(0,o.useMemo)((()=>{var e;if(!f||!h)return"30%";let t;if((null===(e=n.provider_name)||void 0===e?void 0:e.toLowerCase())===S.K.Flickr)t=(n.height||n.thumbnail_height||220)/n.width;else{let e=f||n.height||n.thumbnail_height||220;n.type===m.n.VIDEO&&window.innerWidth>=_.K$&&(e*=1.3),t=e/h}return`${Math.max(30,100*t).toPrecision(4)}%`}),[f,h,n.height,n.width,n.thumbnail_height,n.provider_name,n.type]);return(0,s.jsxs)("div",{className:r()("oembed-iframe--wrapper",t),style:c,onClick:a,children:[(0,s.jsx)(C,{className:v?"":"is-loaded",children:i}),(0,s.jsx)("div",{className:r()("oembed-iframe__container",n.provider_name&&`oembed-iframe--src-${n.provider_name.replace(/\s/g,"-")}`,v&&"is-loading"),ref:y,style:{paddingBottom:E}})]})}var I=n(93607);const D=new v.Vy("oembed-video");class M extends o.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.onIFrameLoad=async e=>{if(!this.isUnmounting)try{const t=await function(e){const t=new I.Player(e);return new Promise(((e,n)=>{t.on("ready",(()=>{e(t)}))}))}(e);if(this.isUnmounting)return;(0,v.Fr)()||t.play()}catch(e){D.warn("unable to autoplay video"),D.warn(e)}}}componentWillUnmount(){this.isUnmounting=!0}render(){const{className:e,cover:t}=this.props;if(t)return(0,s.jsx)(y,Object.assign({},this.props));const n=r()("oembed","oembed-video",e);return(0,s.jsx)(P,Object.assign({},this.props,{className:n,onLoad:this.onIFrameLoad}))}}const V=e=>{const{className:t,cover:n}=e;if(n)return(0,s.jsx)(y,Object.assign({},e));const o=r()("oembed","oembed-rich",t);return(0,s.jsx)(P,Object.assign({},e,{className:o}))};function G(e){const{children:t,className:n}=e;if(!t)return null;const o=r()("oembed","oembed-error",n);return(0,s.jsx)("div",{className:o,children:t})}const U=new v.Vy("oembed-errors");class B extends o.Component{constructor(e){super(e),this.state={caughtError:void 0}}static getDerivedStateFromError(e){return{caughtError:e}}componentDidCatch(e){U.warn(e.message)}componentDidUpdate(e){var t,n;e.data!==this.props.data&&this.setState({caughtError:void 0}),e.error!==this.props.error&&(null===(n=(t=this.props).onError)||void 0===n||n.call(t))}render(){const{className:e,cover:t,data:n,disabled:o,renderError:i,loadingComponent:r,maxHeight:a,maxWidth:c,onClick:l,style:d,thumbnail:u,error:h,containerWidth:p}=this.props,{caughtError:v}=this.state;if(i&&(h||v))return(0,s.jsx)(G,{className:e,children:i(h,v)});if(!n)return(0,s.jsx)(C,{className:e,children:r});const g={className:e,cover:t,maxHeight:a,maxWidth:c,onClick:l,style:d,containerWidth:p};return u?(0,s.jsx)(y,Object.assign({data:n,disabled:o},g)):n.type===m.n.PHOTO?(0,s.jsx)(N,Object.assign({data:n},g)):n.type===m.n.VIDEO?(0,s.jsx)(M,Object.assign({data:n,loadingComponent:r},g)):n.type===m.n.RICH?(0,s.jsx)(V,Object.assign({data:n,loadingComponent:r},g)):null}}var H=n(15986);const{ATTACHMENTS:F}=u.A.SHOWCASE,W={200:F.ERROR_200_MESSAGE,401:F.ERROR_401_MESSAGE,403:F.ERROR_403_MESSAGE,404:F.ERROR_404_MESSAGE,429:F.ERROR_429_MESSAGE},K=({error:e,compact:t,scriptError:n})=>{const[i,r]=(0,o.useState)(null),a=(0,E.Y)(),c=(null==e?void 0:e.status)&&(e=>{const t=W[e];if(t)return t;switch(Math.floor(+e/100)){case 2:return F.ERROR_200_MESSAGE;case 4:return F.ERROR_4XX_MESSAGE;case 5:return F.ERROR_5XX_MESSAGE}})(e.status),l=n?n.message:a.t(c||F.FAILED_TO_LOAD_MESSAGE),d=(0,o.useCallback)((e=>{r(e)}),[]);return(0,s.jsx)("div",{className:"embed-error-container",ref:d,children:t?(0,s.jsx)(H.m,{title:l,target:i}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"icon icon-error"}),(0,s.jsx)("div",{className:"embed-error-message",children:l})]})})};var Y=n(71687),$=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},J=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let q=class extends o.Component{constructor(e){super(e),this.isUnmounting=!1,this.handleError=()=>{const{onError:e}=this.props;e&&e(this.props.attachment.parentId)},this.renderError=(e,t)=>{const{compact:n}=this.props;return(0,s.jsx)(K,{error:e,scriptError:t,compact:n})},this.state={embed:null,error:void 0}}componentDidMount(){this.getEmbeddedMedia()}componentWillUnmount(){this.isUnmounting=!0}componentDidUpdate(e){this.props.attachment.id!==e.attachment.id&&this.getEmbeddedMedia()}async getEmbeddedMedia(){const{attachment:e}=this.props;let t,n=null;try{const t=await this.context.engine.getModuleBySymbol(Y.qy);if(n=await t.loadEmbeddedAttachment(e),!n)throw new Error("embed not found")}catch(e){t=e}this.isUnmounting||this.setState({attachmentId:e.id,embed:n,error:t})}render(){const{compact:e,height:t,width:n,onClick:o,style:i,thumbnail:a,containerWidth:c}=this.props,{embed:l,error:d}=this.state,u=l&&this.state.attachmentId===this.props.attachment.id,h=(0,s.jsx)("div",{className:"gui-spinner-icon"}),p=!!n&&!!t,m=r()("embedded-media",{clickable:o&&!d});return(0,s.jsx)(B,{className:m,data:u&&null!=l?l:void 0,style:i,cover:p,loadingComponent:h,renderError:this.renderError,error:d,thumbnail:a,disabled:e,maxWidth:n,maxHeight:t,onClick:d?void 0:o,onError:this.handleError,containerWidth:c})}};q.contextType=p.B,q=$([h.A,J("design:paramtypes",[Object])],q);var z=n(3101),X=n(94426),Q=n(6336),Z=n(77201);const{ATTACHMENTS:ee}=u.A.SHOWCASE,te=new v.fN(void 0,null),ne=(0,o.memo)((({attachment:e,style:t,thumbnail:n,inline:i,onClick:l,containerWidth:d})=>{(0,X.J)(Z.cP.isObservable(e)?e:null);const u=(0,E.Y)(),h=(0,c.s)(),[p]=(0,Q.i)((0,z.rV)(e)&&e.url||te),[m]=(0,Q.i)(n&&e.thumbnailUrl||te),[v]=(0,Q.i)(e.downloadUrl||te),g=(0,o.useRef)(null),f=t=>{t.stopPropagation(),h.trackGuiEvent("attachment_media_download_clicked",{data:e.mimeType})};if(e.category!==a._A.UPLOAD)return null;const x=r()("attachment-view",!!l&&"clickable"),y=i&&m||p;if(y)return(0,s.jsx)(O,{id:e.id,url:y,style:t,onClick:l,className:x,downloadUrl:i?void 0:v,containerWidth:d,onDownload:f});{const n=e.bytes?(0,z.X6)(e.bytes):"";return(0,s.jsxs)("div",{className:r()(x,"attachment-other",{inline:i}),onClick:l,style:t,children:[!i&&(0,s.jsx)("div",{className:"icon icon-paper-clip"}),(0,s.jsxs)("div",{className:"attachment-label",children:[(0,s.jsx)("div",{className:"file-label",children:e.filename}),n&&!i&&(0,s.jsx)("div",{className:"size-label",children:n})]}),!i&&v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{className:"link download-link",ref:g,href:v,download:!0,onClick:f,children:(0,s.jsx)("span",{className:"icon-download"})}),(0,s.jsx)(H.m,{target:g.current,title:u.t(ee.DOWNLOAD_TOOLTIP)})]})]})}}));function se({id:e,width:t,height:n,srcDoc:i,onLoad:r}){const a=new URLSearchParams(new URL(e,window.location.href).search).get("parent"),c=(0,o.useCallback)((function(e){r(e.currentTarget,a||"")}),[r,a]);return(0,s.jsx)("iframe",{style:{width:t?`${t}px`:"100%",height:n?`${n}px`:"100%",border:0},srcDoc:i,onLoad:c,referrerPolicy:"no-referrer",sandbox:"allow-scripts"},e)}var oe=n(94799);const{ATTACHMENTS:ie}=u.A.SHOWCASE,re=({attachment:e,onClick:t,inline:n,canDelete:i,hero:u,containerWidth:h,width:p,height:m,thumbnail:v,onError:g,onDelete:f})=>{const x=(0,E.Y)(),y=(0,c.s)(),[T,w]=(0,o.useState)(null),[O,N]=(0,d.Lh)(),C=(0,o.useMemo)((()=>x.t(ie.DELETE_ATTACHMENT_TOOLTIP)),[x]),S=(0,z.rV)(e),k=(0,l.L)(),j=(0,oe.j)(Y.qy),R={attachment:e,thumbnail:v,containerWidth:h||N.width||0,onClick:t?n=>{t&&t(n,e.id)}:void 0};return(0,s.jsxs)("div",{className:r()("attachment",`attachment-${e.category}`,{inline:!!n,hero:!!u,"non-viewable":!S}),ref:O,children:[e.category===a._A.UPLOAD?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"attachment-preview",ref:w,children:(0,s.jsx)(ne,Object.assign({},R,{inline:n}))}),i&&(null==e?void 0:e.filename)&&(0,s.jsx)(H.m,{target:T,title:e.filename})]}):e.category===a._A.EXTERNAL?(0,s.jsx)(q,Object.assign({},R,{compact:n,width:p,height:m,onError:g})):ae(e)?(0,s.jsx)(se,{id:e.src,width:e.width,height:e.height,srcDoc:e.srcDoc,onLoad:e.onLoad}):(0,s.jsx)("div",{children:"Unknown Attachment Category"}),i&&(0,s.jsx)(b.$,{icon:"close",className:"attachment-delete",size:A.M.SMALL,variant:A.A.FAB,theme:"dark",tooltip:C,tooltipOptions:{placement:"bottom-start"},onClick:t=>{t.stopPropagation(),t.preventDefault(),i&&(y.trackGuiEvent("attachments_click_remove",{tool:k}),f?f(e):j.removeAttachment(e))}})]})};function ae(e){return e.category===a._A.SANDBOX}},42242:(e,t,n)=>{"use strict";n.d(t,{g:()=>v});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(55285),c=n(40936),l=n(17605),d=n(28479),u=n(33354),h=n(36220),p=n(68375),m=n(97768);const v=({attachments:e,onClick:t,onNavigate:n,startIndex:i=0,onError:l})=>{const v=(0,p.s)(),[f,{width:x}]=(0,a.Lh)(),y=(0,m.w)(),{ref:E,height:b}=(0,c.A)({box:"border-box"}),[T,A]=(0,o.useState)(i),[w,O]=(0,o.useState)(),N=e.length,C=(0,d.L)();(0,o.useEffect)((()=>{i!==T&&A(i)}),[i,e]),(0,o.useEffect)((()=>{O(y?0:b)}),[b,y]);const S=(0,o.useCallback)((e=>{e.stopPropagation();const t=T+1<N?T+1:0;v.trackGuiEvent("attachments_viewer_next",{tool:C}),A(t),n&&n(t)}),[T,N,v,C,n]),k=(0,o.useCallback)((e=>{e.stopPropagation();const t=T>0?T-1:N-1;v.trackGuiEvent("attachments_viewer_prev",{tool:C}),A(t),n&&n(t)}),[T,N,v,C,n]),j=(0,o.useCallback)(((e,t)=>{e.stopPropagation();const s=t;v.trackGuiEvent("attachments_viewer_dot_clicked",{tool:C}),A(s),n&&n(s)}),[v,C,n]),R=e[T];if(!R)return null;const L=N>1;return(0,s.jsxs)("div",{className:"attachment-carousel",ref:f,children:[(0,s.jsx)("div",{className:"attachment-carousel-view",style:{height:w},children:(0,s.jsx)("div",{className:"attachment-container",ref:E,children:(0,s.jsx)(u.o,{attachment:R,onClick:t,thumbnail:!1,containerWidth:x||318,onError:l})})}),L&&(0,s.jsx)(h.K0,{className:r()("modal-nav","modal-prev"),iconClass:"icon-dpad-left",onClick:k}),L&&(0,s.jsx)(h.K0,{className:r()("modal-nav","modal-next"),iconClass:"icon-dpad-right",onClick:S}),L&&(0,s.jsx)("div",{className:"carousel-bullets",children:e.map(((e,t)=>(0,s.jsx)(g,{index:t,active:t===T,onSelect:j},t)))})]})};function g({index:e,active:t,onSelect:n}){return(0,s.jsx)(l.$,{icon:"simple-tag",onClick:t=>n(t,e),className:r()("carousel-bullet",{"carousel-bullet-active":t})})}},71376:(e,t,n)=>{"use strict";n.d(t,{o:()=>b});var s=n(74848),o=n(96540),i=n(72909),r=n(32485),a=n.n(r),c=n(71397),l=n(22213),d=n(81088),u=n(50178),h=n(85453),p=n(42242),m=n(53473),v=n(77570),g=n(56147),f=n(71687),x=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{ATTACHMENTS:E}=g.A.SHOWCASE;let b=class extends o.Component{constructor(e){super(e),this.bindings=[],this.onKey=async e=>{const{attachments:t,attachmentIndex:n}=this.state,s=t.length;let o=-1;switch(e.keyCode){case c.D.ESCAPE:e.stopPropagation(),this.closeAttachmentViewer();break;case c.D.LEFTARROW:e.stopPropagation(),o=n-1,o<0&&(o=s-1);break;case c.D.RIGHTARROW:e.stopPropagation(),o=n+1,o>=s&&(o=0)}-1!==o&&this.setState({attachmentIndex:o})},this.closeAttachmentViewer=()=>{this.state.open&&this.attachmentsModule.toggleAttachmentViewer(!1)},this.onModalToggled=e=>{e.modal!==l.a.ATTACHMENT||e.open||this.closeAttachmentViewer()},this.onViewerClosed=()=>{this.state.open&&(this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new d.X6(l.a.ATTACHMENT,!1)),this.setState({open:!1}))},this.onNavigate=e=>{this.setState({attachmentIndex:e})},this.onViewAttachments=e=>{const{attachments:t,attachmentId:n}=e,s=n||this.getCurrentAttachmentId(),o=t.findIndex((e=>e.id===s));0===t.length||-1===o?this.closeAttachmentViewer():(this.state.open||(this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new d.X6(l.a.ATTACHMENT,!0)),this.setState({open:!0})),this.setState({attachments:t,attachmentIndex:o}))},this.state={open:!1,attachmentIndex:-1,attachments:[]}}componentDidMount(){const{messageBus:e}=this.context;this.bindings.push(e.subscribe(h.FA,this.onViewAttachments),e.subscribe(h.hd,this.onViewerClosed),e.subscribe(u.rn,this.onModalToggled)),this.context.engine.getModuleBySymbol(f.qy).then((e=>{this.attachmentsModule=e}))}componentWillUnmount(){for(const e of this.bindings)e.cancel();this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getCurrentAttachmentId(){var e;const{attachmentIndex:t,attachments:n}=this.state;return(null===(e=n[t])||void 0===e?void 0:e.id)||void 0}render(){const{open:e,attachments:t,attachmentIndex:n}=this.state,{locale:o}=this.context,i=o.t(E.CLOSE_TOOLTIP),r=o.t(E.VIEWER_INDEX_COUNT,{currentNumber:n+1,totalNumber:t.length});return(0,s.jsx)("div",{className:a()("overlay-layer","attachment-overlay",{open:e}),children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"overlay-top-bar",children:[(0,s.jsx)("div",{className:"overlay-label",children:r}),(0,s.jsx)(m.J,{theme:"overlay",tooltip:i,onClose:this.closeAttachmentViewer})]}),(0,s.jsx)(p.g,{attachments:t,startIndex:n,onNavigate:this.onNavigate})]})})}};b.contextType=v.B,b=x([i.A,y("design:paramtypes",[Object])],b)},14753:(e,t,n)=>{"use strict";n.d(t,{P:()=>T});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(72909),c=n(77570),l=n(3795),d=n(56147),u=n(93137),h=n(9241),p=n(19151),m=n(60353),v=n(15986),g=n(17605),f=n(48270),x=n(71687),y=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{ATTACHMENTS:b}=d.A.SHOWCASE;let T=class extends o.Component{constructor(e){super(e),this.setContainerRef=e=>{this.setState({containerRef:e})},this.handleCancelClick=e=>{e.preventDefault(),this.attachmentsModule.cancelAttachmentUpload(this.props.id)},this.onRemoveFailed=e=>{const{id:t,error:n}=this.props;n&&(e.stopPropagation(),this.attachmentsModule.removeFailure(t))},this.state={containerRef:null}}componentDidMount(){this.context.engine.getModuleBySymbol(x.qy).then((e=>{this.attachmentsModule=e}))}render(){const{className:e,error:t,progress:n,fileName:o}=this.props;let i=b.ERROR_UPLOAD_FAIL;const a=this.context.locale.t(b.REMOVE_TOOLTIP),c=t?this.onRemoveFailed:this.handleCancelClick;switch(t){case l.t2.FILE_TOO_LARGE:i=b.ERROR_FILE_TOO_LARGE;break;case l.t2.EMPTY_FILE:i=b.ERROR_EMPTY_FILE;break;case l.t2.OVER_QUOTA:i=b.ERROR_OVER_QUOTA;break;case l.t2.PERMISSION_DENIED:i=b.ERROR_PERMISSION_DENIED}const d=t?this.context.locale.t(i):o,x={"upload-error":!!t};return(0,s.jsxs)("div",{className:r()("attachment","attachment-upload",x,e),children:[(0,s.jsx)("div",{ref:this.setContainerRef,className:"upload-status",children:t?(0,s.jsx)(u.I,{name:"error",size:h.l.MEDIUM}):"number"==typeof n?(0,s.jsx)(p.A,{progress:n,innerRadius:20,barWidth:4}):(0,s.jsx)(m.t,{className:"loading-blocks"})}),(0,s.jsx)(v.m,{target:this.state.containerRef,title:d}),(0,s.jsx)(g.$,{icon:"close",className:"attachment-delete",size:f.M.SMALL,variant:f.A.FAB,theme:"dark",tooltip:a,tooltipOptions:{placement:"bottom-start"},onClick:c})]})}};T.contextType=c.B,T=y([a.A,E("design:paramtypes",[Object])],T)},46587:(e,t,n)=>{"use strict";n.d(t,{M8:()=>r,Rd:()=>a,hw:()=>c,lX:()=>i});var s=n(96540),o=n(3019);function i(){return l("pendings")}function r(){return l("removals")}function a(){return l("uploads")}function c(){return l("failures")}function l(e){const t=(0,o.k)(),[n,i]=(0,s.useState)(d(t,e));return(0,s.useEffect)((()=>{if(!t)return()=>{};function n(){i(d(t,e))}const s=t[e].onChanged(n);return n(),()=>s.cancel()}),[t,e]),n}function d(e,t){return e?e[t].values:[]}},3019:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var s=n(98236),o=n(20835);const i=(0,s.v_)(o.v)},85453:(e,t,n)=>{"use strict";n.d(t,{FA:()=>o,Uf:()=>a,Z4:()=>c,hd:()=>i,hg:()=>r});var s=n(77201);class o extends s.QB{constructor(e,t){super(),this.attachments=e,this.attachmentId=t}}class i extends s.QB{}class r extends s.QB{constructor(e){super(),this.upload=e}}class a extends s.QB{constructor(e){super(),this.upload=e}}class c extends s.QB{constructor(e,t,n,s){super(),this.attachment=e,this.status=t,this.parentId=n,this.parentType=s}}},16947:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(73566),c=n(78956),l=n(91989),d=n(30576);function u({children:e,open:t,className:n,onClose:i,scrollingDisabled:u=!1,header:h,footer:p,resizeToContentMax:m,offsetContentByScrollbarWidth:v,ref:g}){const f=(0,o.useRef)(null),x=(0,o.useRef)(null),y=(0,c.O)(),E=(0,d.bt)("detail-panel");(0,o.useImperativeHandle)(g,(()=>({resetScrollTop:()=>{x.current&&x.current.resetScrollTop()},scrollToSelector:e=>{x.current&&x.current.scrollToSelector(e)}})),[x]);return(0,s.jsxs)("div",{className:r()("detail-panel",t&&"open",n,E,!h&&"detail-panel-sticky"),onKeyDown:function(e){i&&"Escape"===e.code&&(e.stopPropagation(),i())},ref:f,tabIndex:t?0:void 0,onTransitionEnd:e=>{f.current&&e.target===f.current&&t&&f.current.focus()},children:[h,(0,s.jsx)(l.H,{ref:x,hideThumb:y===a.L$.BOTTOM_PANEL,disabled:u,resizeToContentMax:m,offsetContentByScrollbarWidth:v,children:e}),p]})}},56023:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var s=n(90087),o=n(96540);function i(e,t){const n=(0,s.L)();return(0,o.useCallback)(((...s)=>{const o=t?Array.isArray(t)?t:t(...s):[];n.issueCommand(new e(...o))}),[e,t,n])}},94426:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var s=n(96540);function o(e){const t=function(){const[,e]=(0,s.useState)(0);return(0,s.useCallback)((()=>{e((e=>e+1))}),[])}();return(0,s.useEffect)((()=>{if(t(),null!=e){const n=e.onChanged(t);return()=>{n.cancel()}}return()=>{}}),[e,t]),e}},70401:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var s=n(74848),o=n(96540),i=n(72909),r=n(48270),a=n(17605),c=n(71397),l=n(77570),d=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let u=class extends o.Component{constructor(){super(...arguments),this.onKey=async e=>{if(this.props.disabled)return;switch(e.keyCode){case c.D.COMMA:this.onGotoPrev();break;case c.D.PERIOD:this.onGotoNext()}},this.onGotoNext=()=>{const e=this.getNextIndex();-1!==e&&this.props.onNavigate(e)},this.onGotoPrev=()=>{const e=this.getPrevIndex();-1!==e&&this.props.onNavigate(e)}}componentDidMount(){this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0})}componentWillUnmount(){this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getNextIndex(){const{total:e,index:t,wrapAround:n}=this.props;return t+1<e?t+1:n?0:-1}getPrevIndex(){const{total:e,index:t,wrapAround:n}=this.props;return t>0?t-1:n?e-1:-1}render(){const{total:e,index:t,disabled:n,overlay:o}=this.props;if(e<2||-1===t)return null;const i=o?"dark":"light",c=o?void 0:r.M.LARGE,l=`${t+1} of ${e}`;return(0,s.jsxs)("div",{className:"list-nav",children:[(0,s.jsx)(a.$,{icon:"dpad-left",variant:r.A.TERTIARY,size:c,disabled:n,theme:i,onClick:this.onGotoPrev}),(0,s.jsx)("span",{className:"list-nav-label",children:l}),(0,s.jsx)(a.$,{icon:"dpad-right",variant:r.A.TERTIARY,size:c,disabled:n,theme:i,onClick:this.onGotoNext})]})}};u.contextType=l.B,u=d([i.A],u)},67430:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(74328);function o(e){return e.get("m")||e.get("model")}function i(e){const t=-1!==e.indexOf("matterport.com/show"),n=-1!==e.indexOf(window.location.host+"/show");if(t||n){const t=new URL(e),n=s.s.deserialize(e)||void 0,i=o(t.searchParams),r=o(new URLSearchParams(window.location.search));return{url:e,pose:n,modelId:i&&i!==r?i:void 0}}return{url:e}}},28684:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(72909),c=n(77570),l=n(71397),d=n(50178),u=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let p=class extends o.Component{constructor(e){super(e),this.textElement=(0,o.createRef)(),this.editing=!1,this.isUnmounting=!1,this.stopPropagation=e=>e.stopPropagation(),this.onPaste=e=>{if(!e.clipboardData||!this.textElement.current)return;let t=e.clipboardData.getData("text/plain");t=this.props.textParser.sanitizeText(t),e.preventDefault(),t&&document.execCommand("insertText",!1,t)},this.onKeyDown=e=>{if(!this.textElement.current)return;const{onKeyDown:t}=this.props;(e.which||e.keyCode)===l.D.RETURN&&(e.shiftKey||e.altKey)?document.execCommand("insertText",!1,"\n"):t&&t(e)},this.onMouseDown=e=>{const{onClick:t,clickToEdit:n,readonly:s}=this.props;t&&(e.stopPropagation(),t(e)),s||!this.editing&&n&&this.toggleEditing(!0)},this.onFocus=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new d.Yl(this.textElement.current,!0)),this.props.onFocus&&this.props.onFocus(e))},this.onBlur=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new d.Yl(this.textElement.current,!1)),this.props.onBlur&&this.props.onBlur(e))}}componentDidMount(){this.replaceTextContent(this.props.text)}componentWillUnmount(){this.isUnmounting=!0,this.textElement.current&&this.textElement.current.blur()}componentDidUpdate(e){const{text:t,active:n}=this.props;t===e.text&&n===e.active||this.replaceTextContent(t)}shouldComponentUpdate(){return!1}getTextElement(){return this.textElement.current}getPlainText(){var e;return(null===(e=this.textElement.current)||void 0===e?void 0:e.innerText)||""}focus(){this.editing&&this.textElement.current&&this.textElement.current.focus()}toggleEditing(e,t=!0){clearTimeout(this.toggleEditingTimeout),this.toggleEditingTimeout=window.setTimeout((()=>{this.textElement.current&&!this.isUnmounting&&(this.editing!==e&&(this.editing=e,this.textElement.current.contentEditable=e?"true":"false",e?this.textElement.current.classList.add("editing"):this.textElement.current.classList.remove("editing")),e&&t?this.textElement.current.focus():this.textElement.current.blur())}),0)}replaceTextContent(e){clearTimeout(this.replaceTextContentTimeout),this.replaceTextContentTimeout=window.setTimeout((()=>{if(!this.textElement.current||this.isUnmounting)return;for(;this.textElement.current.firstChild;)this.textElement.current.removeChild(this.textElement.current.firstChild);const t=document.createDocumentFragment(),{textParser:n,markers:s,onClickAnchor:o,active:i,readonly:r,maxLength:a,clickableLinks:c}=this.props,l=void 0!==c?c:!i,d=n.deserialize(e,l,o,s);let u=0,h=!d.every((e=>{var n;const s=(null===(n=e.textContent)||void 0===n?void 0:n.length)||0;if(r&&a&&u+s>a){if("#text"===e.nodeName){const n=e.textContent||"";e.textContent=n.substring(0,a-u),t.appendChild(e)}return!1}return!r&&i&&"A"===e.nodeName&&(e.contentEditable="true"),u+=s,t.appendChild(e),!0}));h&&t.appendChild(document.createTextNode("...")),this.textElement.current.appendChild(t),this.focus(),r&&!h&&this.props.maxLines&&this.textElement.current.scrollHeight>this.textElement.current.offsetHeight&&(h=!0,this.textElement.current.appendChild(document.createTextNode("..."))),this.props.onTextReplaced&&this.props.onTextReplaced(h)}),0)}render(){const{placeholder:e,tabIndex:t,onInput:n,readonly:o,maxLines:i,text:a}=this.props,c=o&&i,l=c?{WebkitLineClamp:i}:{},d=r()("text-box-text",{clamped:c,placeholder:!!e&&!a});return(0,s.jsx)("div",{ref:this.textElement,className:d,style:l,role:"textbox",draggable:!1,spellCheck:!0,contentEditable:!1,"data-placeholder":e,"aria-label":e,onMouseDown:this.onMouseDown,onKeyDown:o?void 0:this.onKeyDown,onKeyUp:o?void 0:this.stopPropagation,onFocus:o?void 0:this.onFocus,onBlur:o?void 0:this.onBlur,onInput:o?void 0:n,onPaste:o?void 0:this.onPaste,tabIndex:t})}};p.contextType=c.B,p=u([a.F,h("design:paramtypes",[Object])],p);const m=p},89416:(e,t,n)=>{"use strict";var s;n.d(t,{f:()=>s}),function(e){e.CLOSED="closed",e.IDLE="idle",e.CREATING="creating",e.OPENING="opening",e.OPEN="open",e.EDITING="editing"}(s||(s={}))},78450:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var s=n(77201),o=n(89416),i=n(3184),r=n(25727);class a extends s.B_{constructor(e,t,n,r){super(),this.data=e,this.textParser=t,this.linkHandler=n,this.backgroundTexture=r,this.name="notes-view-data",this.noteViewsMap=(0,s.y3)(),this.isNewNote=!1,this.openNoteViewObservable=(0,s.pw)(null),this.focusedCommentObservable=(0,s.pw)(null),this.activeNotationObservable=(0,s.pw)(null),this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.notesPhaseObservable=(0,s.pw)(o.f.CLOSED),this.notesFilterObservable=(0,s.pw)(i.S.OPEN),this.updateNoteViews=()=>{const e={};this.data.iterate((t=>{var n;const s=this.createNoteView(t);e[t.id]=s,(null===(n=this.openNoteView)||void 0===n?void 0:n.id)===s.id&&this.setOpenNoteView(s)})),this.noteViewsMap.replace(e)},this.sortByDate=(e,t)=>t.lastCommentMs-e.lastCommentMs,this.filterByResolved=e=>this.notesFilter===i.S.ALL||e.resolved===(this.notesFilter===i.S.RESOLVED),this.noteViews=new s.q8(this.noteViewsMap),this.noteViews.priority=s.g$.LOW,this.notesFilter!==i.S.ALL&&this.noteViews.setFilter(this.notesFilter,this.filterByResolved),this.noteViews.sort(this.sortByDate),this.updateNoteViews()}getFilteredNotesMap(){return this.noteViews}getNoteViewsMap(){return this.noteViewsMap}getNoteView(e){return this.noteViewsMap.get(e)}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getComment(e,t){const n=this.getNoteView(e);return(null==n?void 0:n.comments.find((e=>e.id===t)))||null}getReply(e,t){const n=this.getNoteView(e);return(null==n?void 0:n.comments.find(((e,n)=>n>0&&e.id===t)))||null}getAttachment(e,t,n){var s;const o=(null===(s=this.getNoteView(e))||void 0===s?void 0:s.comments.find((e=>e.id===t)))||null;return(null==o?void 0:o.attachments.find((e=>e.id===n)))||null}createNoteView(e){return Object.assign(Object.assign({},e),{backgroundTexture:this.backgroundTexture,icon:r.tf[r.yY.NOTE]})}getCommentUserMentions(e,t){const n=[];return this.textParser.getUserMentions(e).forEach((e=>{const s=t[e];s&&n.push(s)})),n}getNoteAttachments(e){const t=[],n=this.getNoteView(e);return n&&n.comments.forEach((e=>{t.push(...e.attachments)})),t}getPendingNote(){return this.isNewNote&&this.openNoteView?this.openNoteView:null}setNotesPhase(e){this.notesPhaseObservable.value=e}get notesPhase(){return this.notesPhaseObservable.value}onNotesPhaseChanged(e){return this.notesPhaseObservable.onChanged(e)}setNotesFilter(e){const t=this.notesFilterObservable.value;this.notesFilterObservable.value=e,this.noteViews.atomic((()=>{this.noteViews.clearFilter(t),e!==i.S.ALL&&this.noteViews.setFilter(e,this.filterByResolved)}))}get notesFilter(){return this.notesFilterObservable.value}onNotesFilterChanged(e){return this.notesFilterObservable.onChanged(e)}setActiveNotation(e){this.activeNotationObservable.value=e}get activeNotation(){return this.activeNotationObservable.value}onActiveNotationChanged(e){return this.activeNotationObservable.onChanged(e)}setOpenNoteView(e){this.openNoteViewObservable.value=e}get openNoteView(){return this.openNoteViewObservable.value}onOpenNoteViewChanged(e){return this.openNoteViewObservable.onChanged(e)}resetOpenNoteView(){const e=this.openNoteView;if(e){const t=this.data.getNoteProperties(e.id);t&&this.updateOpenNoteView(t)}}updateOpenNoteView(e){const t=this.openNoteView;t&&Object.assign(t,e)}setFocusedComment(e){this.focusedCommentObservable.value=e}get focusedComment(){return this.focusedCommentObservable.value}onFocusedCommentChanged(e){return this.focusedCommentObservable.onChanged(e)}}},3184:(e,t,n)=>{"use strict";var s,o;n.d(t,{D:()=>o,S:()=>s}),function(e){e.OPEN="open",e.RESOLVED="resolved",e.ALL="all"}(s||(s={})),function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(o||(o={}))},80700:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var s=n(96540),o=n(93388);function i(e,t){return t&&e&&e.focusedComment?e.getReply(t,e.focusedComment.id):null}function r(e){const t=(0,o.Y)(),[n,r]=(0,s.useState)(i(t,e));return(0,s.useEffect)((()=>{if(!t)return()=>{};const n=t.onFocusedCommentChanged((function(){r(i(t,e))}));return()=>n.cancel()}),[t,e]),n}},80411:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(96540),o=n(93388);function i(e){const t=(0,o.Y)(),[n,i]=(0,s.useState)((null==t?void 0:t.getNoteView(e))||null);return(0,s.useEffect)((()=>{if(!t)return()=>{};const n=t.getNoteViewsMap().onChanged((function(){t&&i(t.getNoteView(e))}));return()=>n.cancel()}),[t,e]),n}},24865:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var s=n(96540),o=n(93388);function i(){const e=(0,o.Y)();return(0,s.useMemo)((()=>function(e){return e?e.getLinkHandler():null}(e)),[e])}},29397:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var s=n(96540),o=n(93388);function i(){const e=(0,o.Y)();return(0,s.useMemo)((()=>function(e){return e?e.getTextParser():null}(e)),[e])}},93388:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var s=n(98236),o=n(78450);const i=(0,s.v_)(o.b)},40590:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var s=n(77201);class o extends s.B_{constructor(){super(),this.name="object-tags",this.suggestions=(0,s.y3)()}get collection(){return this.suggestions}iterate(e){for(const t of this.suggestions)e(t)}getObjectTag(e){return this.suggestions.get(e)}getObjectTagIds(){return this.suggestions.keys}updateObjectTag(e){this.suggestions.set(e.id,e)}removeObjectTag(e){return this.suggestions.delete(e)}}},81058:(e,t,n)=>{"use strict";n.d(t,{HZ:()=>i,R5:()=>d,_8:()=>a,lA:()=>r,lg:()=>l,vX:()=>o,y_:()=>u,ye:()=>c});var s=n(77201);class o extends s.uB{constructor(e){super(),this.payload={enabled:e}}}o.id="OBJECTS_ANNOTATIONS_ENABLED";class i extends s.uB{constructor(e){super(),this.payload={ids:e}}}i.id="FILTER_TAG_SUGGESTION";class r extends s.uB{constructor(e){super(),this.payload={id:e}}}r.id="NAVIGATE_TO_TAG_SUGGESTION";class a extends s.uB{constructor(e,t){super(),this.payload={id:e,enabled:t}}}a.id="TOGGLE_OBJECT_ENABLED";class c extends s.uB{constructor(e,...t){super(),this.payload={ids:t,enabled:e}}}c.id="TOGGLE_OBJECT_TAG_ENABLED";class l extends s.uB{constructor(...e){super(),this.payload={ids:e}}}l.id="DISMISS_OBJECT_TAG";class d extends s.uB{constructor(e,t,n,s){super(),this.payload={id:e,options:t,pendingAttachments:n,embed:s}}}d.id="CREATE_OBJECT_TAG";class u extends s.uB{constructor(e){super(),this.payload={id:e}}}u.id="DOCK_OBJECT_TAG"},55350:(e,t,n)=>{"use strict";n.d(t,{k:()=>A});var s=n(74848),o=n(74328),i=n(68909),r=n(96540),a=n(32485),c=n.n(a),l=n(81609),d=n(56147),u=n(35404),h=n(28479),p=n(48270),m=n(17605),v=n(94165),g=n(68375),f=n(38731),x=n(93702),y=n(39869),E=n(50747);function b(e){const{label:t,className:n,darkTheme:o,analyticAction:i,urlParams:a,buttonVariant:b,reverse:T}=e,A=(0,f.B)(),w=(0,y.Y)(),O=(0,E.F)(),N=(0,g.s)(),C=(0,x.K)(),[S,k]=(0,r.useState)(!1),j=A||O.tryGetSetting(u.wD,!1),R=(0,h.L)(),L=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),_=(0,r.useCallback)((e=>{e.stopPropagation(),S||(!async function(e,t){const n=(await t.getModuleBySymbol(v.r)).creator.createDeepLink({additionalParams:e,paramFilter:e=>!["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].includes(e)});n.hash="",(0,l.l)(n.href)}(a,C),k(!0),N.trackGuiEvent(i,{tool:R}))}),[S,a,C,N,i,R]);(0,r.useEffect)((()=>{if(!S)return()=>{};const e=window.setTimeout((()=>k(!1)),2500);return()=>window.clearTimeout(e)}),[S]);let P=b||(!t?p.A.FAB:p.A.TERTIARY),I="share",D=t,M=t?void 0:w.t(d.A.COPY_LINK),V=!1;return S&&(P=p.A.TERTIARY,I=void 0,D=w.t(d.A.SHARE_COPIED),M=void 0,V=!0),j?(0,s.jsx)("div",{className:c()("url-link-copy",n,{"link-copied":S}),onClick:L,children:(0,s.jsx)(m.$,{icon:I,label:D,size:p.M.SMALL,variant:P,theme:o?"dark":"light",disabled:V,tooltip:M,tooltipOptions:{placement:"bottom"},onClick:_,reverse:T})}):null}var T=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};function A(e){const{prefix:t,pin:n,id:r}=e,a=T(e,["prefix","pin","id"]),{stemNormal:c,stemLength:l,anchorPosition:d}=n,u=o.s.encodeVector3((new i.Vector3).copy(c).setLength(l).add(d)),h={[`${t}`]:r,"pin-pos":u};return(0,s.jsx)(b,Object.assign({urlParams:h},a))}},74453:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var s=n(96540),o=n(93216);function i(){const e=(0,o.d)(),[t,n]=(0,s.useState)((null==e?void 0:e.screenPosition)||null);return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=e.onScreenPositionChanged(n);return n(e.screenPosition),()=>t.cancel()}),[e]),t}},93216:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var s=n(98236),o=n(11416);const i=(0,s.v_)(o.U)},32408:(e,t,n)=>{"use strict";n.d(t,{RN:()=>d,hs:()=>h,m1:()=>u,nK:()=>l,zX:()=>p});var s=n(68909),o=n(28511),i=n(25727),r=n(13893),a=n(74328),c=n(86224);function l(e,t){switch(t){case i.ob.DEFAULT:return e.baseColor;case i.ob.DIMMED:return e.dimmedColor;case i.ob.HIGHLIGHTED:return e.hoverColor}}function d(e,t,n){const s=n?t:void 0;return s&&o.J[s]?s:i.tf[e]}function u(e){return e===i.yY.OBJECT?0:c.A.pinHeadMesh.strokeWidth}function h(e){if("comment-large"===e)return{x:0,y:5}}const p=async(e,t,n)=>{const o=(new s.Vector3).copy(t.stemNormal).setLength(t.stemLength).add(t.anchorPosition),i=a.s.decodeVector3(e.getOverrideParam("pin-pos",a.s.encodeVector3(o)));n(i&&i.distanceTo(o)>.1||null===a.s.deserialize()?r.fl.FadeToBlack:null)}},94547:(e,t,n)=>{"use strict";n.d(t,{$M:()=>r,Oc:()=>u,Pb:()=>i,Xx:()=>d,_d:()=>c,_w:()=>l,tA:()=>o,tf:()=>h,xg:()=>a});var s=n(77201);class o extends s.uB{constructor(e){super(),this.payload={query:e}}}o.id="UPDATE_SEARCH_QUERY";class i extends s.uB{constructor(e){super(),this.payload={keywords:e}}}i.id="UPDATE_SEARCH_QUERY_KEYWORDS";class r extends s.uB{constructor(e){super(),this.payload={keywordId:e}}}r.id="TOGGLE_SEARCH_QUERY_KEYWORD";class a extends s.uB{constructor(e){super(),this.payload={grouping:e}}}a.id="CHANGE_SEARCH_GROUPING";class c extends s.uB{constructor(){super()}}c.id="SEARCH_FILTER_CLEAR";class l extends s.uB{constructor(e,t){super(),this.payload={groupId:e,enabled:t}}}l.id="SEARCH_FILTER_TOGGLE";class d extends s.uB{constructor(e,t){super(),this.payload={id:e,typeId:t}}}d.id="SELECT_SEARCH_RESULT";class u extends s.uB{constructor(e){super(),this.payload=e}}u.id="SEARCH_GROUP_REGISTER";class h extends s.uB{constructor(e){super(),this.payload={id:e}}}h.id="SEARCH_GROUP_DEREGISTER"},9688:(e,t,n)=>{"use strict";n.d(t,{B:()=>p});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(26868),c=n(94547),l=n(73566),d=n(17084),u=n(90087),h=n(38731);const p=({keywords:e,className:t,maxVisible:n=2,theme:i})=>{const p=(0,u.L)(),m=(0,h.B)(),v=(0,o.useCallback)((({text:e},t)=>{t.stopPropagation();const n=m?l.S0.LAYERS:l.S0.SEARCH;p.issueCommand(new d.yU(n,!0)),p.issueCommand(new c.Pb([e]))}),[p,m]);return(0,s.jsx)(a.c,{className:r()("tag-keywords",t),tokens:e.map((e=>({id:e,text:e}))),onTokenClick:v,maxVisibleTruncated:n,tokenSize:"small",tokenTheme:i})}},647:(e,t,n)=>{"use strict";n.d(t,{P:()=>p});var s=n(74848),o=n(96540),i=n(32485),r=n.n(i),a=n(35404),c=n(42242),l=n(99104),d=n(97768),u=n(90087),h=n(5262);const p=({attachments:e,onClick:t})=>{const n=(0,u.L)(),i=(0,d.w)(),p=(0,h.i)(a.qu,!1);(0,o.useEffect)((()=>{var t;(null===(t=e[0])||void 0===t?void 0:t.parentId)!==i&&n.issueCommand(new l.kd)}),[e,i,n]);const m=(0,o.useCallback)(((n,s)=>{0!==e.length&&(n.stopPropagation(),t(n,s))}),[e,t]),v=(0,o.useCallback)((t=>{1===e.length&&n.issueCommand(new l.kd(t))}),[e.length,n]);return p||0===e.length?null:(0,s.jsx)("div",{className:r()("tag-media",{"embed-error":!!i}),children:(0,s.jsx)(c.g,{attachments:e,onClick:m,onError:v})})}},73554:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var s=n(99104),o=n(55494),i=n(56147),r=n(32408),a=n(95439);const{TAGS:c}=i.A.SHOWCASE;class l{constructor(e,t){this.engine=e,this.settings=t}async activate(){await this.engine.commandBinder.issueCommand(new s.NR(!0))}async deactivate(){await this.engine.commandBinder.issueCommand(new s.NR(!1))}async deepLink(e){const t=(await this.engine.market.waitForData(o.r)).getTagView(e);if(t)(0,r.zX)(this.settings,t,(t=>{this.engine.commandBinder.issueCommand(new s.Ki(e,{transition:t,dock:!0}))}));else{const e={messagePhraseKey:c.MISSING_MESSAGE,timeout:4e3,dismissesOnAction:!0};this.engine.commandBinder.issueCommand(new a.Q(e))}}}},84752:(e,t,n)=>{"use strict";n.d(t,{T:()=>f});var s=n(74848),o=n(96540),i=n(13893),r=n(95541),a=n(47613),c=n(99104),l=n(50897),d=n(47271),u=n(12460),h=n(70401),p=n(8517),m=n(38731),v=n(90087),g=n(68375);function f(e){const{overlay:t,analyticAction:n}=e,f=(0,m.B)(),x=(0,g.s)(),y=(0,v.L)(),E=(0,r.H)(),b=(0,l.f)(!0),T=(0,d.D)(),A=(0,a._)(),w=(0,u.G)(),[O,N]=(0,o.useState)(!1),C=f||!A?b:b.filter((e=>A.layerToggled(e.layerId)&&(!w||w.getCapabilities(e.id).focus)));if(!(T&&C.length>1))return null;const S=C.findIndex((e=>e.id===(null==T?void 0:T.id)));if(-1===S)return null;const k=(0,s.jsx)(h.r,{index:S,total:C.length,disabled:O,overlay:t,wrapAround:!0,onNavigate:e=>{const t=C[e];if(!t)return;N(!0);const s=T?E?i.fl.Instant:i.fl.FadeToBlack:i.fl.Interpolate;x.trackToolGuiEvent("tags",n),y.issueCommand(new c.Ki(t.id,{transition:s})).then((()=>{N(!1)}))}});return t?(0,s.jsx)(p.L,{className:"tags-navigation-overlay",children:k}):k}},21317:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var s=n(74848),o=n(68419),i=n(48411),r=n(84752),a=(n(1132),n(13767)),c=n(5262);function l(){const e=(0,o.t)(),t=(0,i.T)(),n=(0,c.i)(a.rp,"1");return e||t||!n?null:(0,s.jsx)("div",{className:"overlay grid-overlay tags-overlay",children:(0,s.jsx)(r.T,{overlay:!0,analyticAction:"tags_navigate_in_canvas"})})}},97768:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var s=n(87805),o=n(55494);const i=(0,s.u)(o.r,"embedErrorTagId",void 0)},47271:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var s=n(96540),o=n(12460);function i(){const e=(0,o.G)(),[t,n]=(0,s.useState)(e?e.openTagView:null);return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenTagViewChanged(n);return n(e.openTagView),()=>t.cancel()}),[e]),t}},50897:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var s=n(96540),o=n(12460);function i(e){const t=(0,o.G)(),[n,i]=(0,s.useState)((null==t?void 0:t.getOrderedTags(e))||[]);return(0,s.useEffect)((()=>{if(!t)return()=>{};function n(){t&&i(t.getOrderedTags(e))}const s=t.getOrderedTagViewMapFilter().onChanged(n);return n(),()=>s.cancel()}),[t,e]),n}},83649:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var s=n(96540),o=n(12460);function i(e){return e?e.getLinkHandler():null}function r(){const e=(0,o.G)(),[t,n]=(0,s.useState)(i(e));return(0,s.useEffect)((()=>(t||n(i(e)),()=>{})),[t,e]),t}},12460:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var s=n(98236),o=n(55494);const i=(0,s.v_)(o.r)},75200:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var s=n(87805),o=n(96319);const i=(0,s.u)(o.M,"previousToolName",null)},54616:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var s=n(77570),o=n(96540);const i=()=>(0,o.useContext)(s.B).userData}}]);