/*! For license information please see ws-autotours.js.LICENSE.txt */
(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[8636],{57726:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var s=typeof a;if("string"===s||"number"===s)e.push(this&&this[a]||a);else if(Array.isArray(a))e.push(o.apply(this,a));else if("object"===s)if(a.toString===Object.prototype.toString)for(var r in a)n.call(a,r)&&a[r]&&e.push(this&&this[r]||r);else e.push(a.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},88142:(e,t,a)=>{"use strict";a.d(t,{AH:()=>l,Cn:()=>h,Dw:()=>S,Hx:()=>p,JL:()=>g,Jm:()=>R,KJ:()=>b,PU:()=>T,Sm:()=>m,VJ:()=>_,WV:()=>c,Xi:()=>A,YT:()=>o,bp:()=>f,cT:()=>d,eD:()=>i,mb:()=>r,mx:()=>E,qg:()=>s,vb:()=>N,vu:()=>n,yO:()=>u});const n="IAppSwitch",o="IBlurEditor",s="IBlurSuggestionsModule",r="ICloudControl",i="IDefurnishToolModule",l="IGridUnderlay",c="ILabelEditor",u="ILayersTool",d="IMeshTrimEditor",_="IPinConnectionModule",p="IPinNumbererModule",E="IPlayerOptionsEditor",A="IRoomBoundTool",m="IRotationInteractionModule",f="ISweepEditor",h="ISweepPinEditorModule",R="ITourEditor",T="IToursGeneratorGui",g="IVisionCatalog",S="IWorkshopAnalytics",b="IWorkshopGui",N="IVampireCamera"},16430:(e,t,a)=>{"use strict";a.d(t,{z:()=>s});var n=a(77201),o=a(97157);class s extends n.B_{constructor(){super(...arguments),this.name="tour-editor-view-data",this.portals=new n.Es,this.editorMode=o.R.AUTOSAVE}setPortal(e,t){this.portals.set(e,t)}getPortal(e){return this.portals.get(e)||null}onPortalChanged(e,t){const a=(a,n)=>{n===e&&t(a||null)};return this.portals.onElementChanged({onAdded:a,onRemoved:a,onUpdated:a})}setEditorMode(e){this.editorMode=e,this.commit()}}},97157:(e,t,a)=>{"use strict";var n,o;a.d(t,{R:()=>o,U:()=>n}),function(e){e.ACTION_BAR_LEFT="tour_editor_action_bar_left",e.ACTION_BAR_RIGHT="tour_editor_action_bar_right",e.OVERLAY="tour_editor_overlay"}(n||(n={})),function(e){e.AUTOSAVE="autosave",e.DRAFT="draft"}(o||(o={}))},20420:(e,t,a)=>{"use strict";a.d(t,{d:()=>r});var n=a(96540);if(5602==a.j)var o=a(53289);if(5602==a.j)var s=a(22937);function r(){const[e,t]=(0,n.useState)(!1),a=(0,n.useCallback)((()=>t(!0)),[]),r=(0,n.useCallback)((()=>t(!1)),[]);return(0,o.J)(s.nD,a),(0,o.J)(s.ap,r),e}},75399:(e,t,a)=>{"use strict";a.d(t,{q:()=>r});var n=a(87805),o=a(16430),s=a(97157);const r=(0,n.u)(o.z,"editorMode",s.R.AUTOSAVE)},56662:(e,t,a)=>{"use strict";if(a.d(t,{F:()=>i,j:()=>r}),5602==a.j)var n=a(17904);var o=a(96540);if(5602==a.j)var s=a(88142);const r=e=>{const{viewData:t}=(0,n.S)(s.Jm)||{},[a,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!t)return;r(t.getPortal(e));const a=t.onPortalChanged(e,(e=>r(e)));return()=>a.cancel()}),[e,t]),a},i=e=>{const{viewData:t}=(0,n.S)(s.Jm)||{};return(0,o.useCallback)((a=>{null==t||t.setPortal(e,a)}),[e,t])}},48628:(e,t,a)=>{"use strict";a.d(t,{K:()=>j});var n=a(65945),o=a(77201),s=a(97800),r=a(71687),i=a(73566),l=a(74848),c=a(96540),u=a(40961),d=a(98349),_=a(56662),p=a(97157),E=a(28956),A=a(70585),m=a(90087),f=a(17904),h=a(56147),R=a(8647),T=a(92637),g=a(91719),S=a(95541),b=a(75399),N=a(25516);const O=()=>{const e=(0,b.q)(),t=(0,_.j)(p.U.ACTION_BAR_RIGHT),a=(0,_.j)(p.U.OVERLAY),n=(0,m.L)(),o=(0,S.H)(),i=(0,f.S)(r.Gw),O=(0,N.a)(),v=(0,s.B0)("tour-generator-overlay"),I=(0,c.useCallback)((()=>{null==i||i.discardGeneratedTour()}),[i]),C=(0,c.useCallback)((async()=>{await(null==i?void 0:i.acceptGeneratedTour().catch((e=>{v.error(e),n.issueCommand(new T.P(h.A.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{type:R.v.ERROR,error:e}))})))}),[n,v,i]),x=(0,c.useCallback)((e=>{n.issueCommand(new T.P(h.A.WORKSHOP.HLR.AUTOGEN_TOUR_ERROR_MESSAGE,{type:R.v.ERROR,error:e}))}),[n]),j=O&&!o;return t&&a?(0,l.jsxs)(l.Fragment,{children:[(0,u.createPortal)((0,l.jsx)(d.G,{onError:x}),t),e===p.R.DRAFT&&(0,u.createPortal)((0,l.jsx)(A.P,{onAccept:C,onCancel:I}),a),j&&(0,u.createPortal)((0,l.jsx)(E.E,{}),a),(0,l.jsx)(g.A,{})]}):null};var v=a(73094),I=function(e,t,a,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(s<3?o(r):s>3?o(t,a,r):o(t,a))||r);return s>3&&r&&Object.defineProperty(t,a,r),r},C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e,t){return function(a,n){t(a,n,e)}};let j=class extends o.nV{constructor(e,t,a){super(),this.name="tours-generator-gui",this.toolsModule=e,this.layersModule=a,this.modelDataModule=t}async init(e,t){(0,v.U)({layersData:this.layersModule.layersData,modelData:this.modelDataModule.data})?this.registerUi():s.Vy.for(this).warn("Tour generation is not available.")}dispose(e){super.dispose(e),this.unregisterUi()}registerUi(){this.ui||(this.ui=O,this.toolsModule.registerToolUi(i.S0.HLR,this.ui))}unregisterUi(){this.ui&&(this.toolsModule.unregisterToolUi(i.S0.HLR,this.ui),this.ui=void 0)}};j=I([(0,n._q)(),x(0,(0,n.y_)(r.N7)),x(1,(0,n.y_)(r.bj)),x(2,(0,n.y_)(r.az)),C("design:paramtypes",[Object,Object,Object])],j)},70585:(e,t,a)=>{"use strict";a.d(t,{P:()=>v});var n=a(74848),o=a(57726),s=a.n(o),r=a(93137),i=a(17605),l=a(48270),c=a(96540);var u=a(68375),d=a(81088),_=a(22213),p=a(90087),E=a(39869),A=a(56147),m=a(35354);const{SAVE:f,DISCARD:h}=A.A.WORKSHOP.MODAL,{REPLACE_TOUR:R,KEEP_CURRENT_TOUR:T,REPLACE_CURRENT_TOUR:g,ACCEPT_GENERATED_TOUR:S,REPLACE_TOUR_HELP_MESSAGE:b,ACCEPT_TOUR_HELP_MESSAGE:N}=A.A.WORKSHOP.HLR,O=s().bind({"accept-tour-dialog":"accept-tour-dialog-a913fa3ca11d253de08b","accept-tour-dialog__header":"accept-tour-dialog__header-aac28ecb8b754755fcf6",header__title:"header__title-f9cec502dc1eb98bf678",header__icon:"header__icon-c4046c520324c5314252","accept-tour-dialog__content":"accept-tour-dialog__content-d39070af9bc28a29ae8b","accept-tour-dialog__actions":"accept-tour-dialog__actions-aa28f41136e57d714fd1"}),v=({className:e,onAccept:t,onCancel:a})=>{const o=(0,E.Y)(),s=(0,u.s)(),[A,v]=(0,c.useState)(!1),I=(0,p.L)(),C=(0,m.m)(),x=((null==C?void 0:C.reel.length)||-1)>0,j=(0,c.useCallback)((async e=>{v(!0),s.trackGuiEvent("tour_reject_clicked",{tool:"hlr",event:e}),a(),v(!1)}),[s,a]),G=(0,c.useCallback)((async e=>{v(!0),s.trackGuiEvent("tour_accept_clicked",{tool:"hlr",event:e}),I.issueCommand(new d.X6(_.a.SAVING_GENERATED_TOUR,!0)),await t().finally((()=>{v(!1),I.issueCommand(new d.X6(_.a.SAVING_GENERATED_TOUR,!1))}))}),[s,I,t]),D=x?o.t(g):o.t(S),P=x?o.t(b):o.t(N),U=x?o.t(R):o.t(f),w=x?o.t(T):o.t(h);return(0,n.jsxs)("div",{className:O("accept-tour-dialog",{"accept-tour-dialog--has-tour":x},e),"data-testid":"accept_tour_dialog",children:[(0,n.jsxs)("header",{className:O("accept-tour-dialog__header"),children:[(0,n.jsx)(r.I,{name:"sparkle",className:O("header__icon")}),(0,n.jsx)("h3",{className:O("header__title"),children:D})]}),(0,n.jsx)("p",{className:O("accept-tour-dialog__content"),children:P}),(0,n.jsxs)("div",{className:O("accept-tour-dialog__actions"),children:[(0,n.jsx)(i.$,{"data-testid":"btn_discard_tour",size:l.M.SMALL,variant:l.A.SECONDARY,label:w,icon:x?void 0:"trash",onClick:j,disabled:A}),(0,n.jsx)(i.$,{"data-testid":"btn_accept_tour",size:l.M.SMALL,variant:l.A.PRIMARY,label:U,onClick:G,disabled:A})]})]})}},28956:(e,t,a)=>{"use strict";a.d(t,{E:()=>h});var n=a(74848),o=a(96540),s=a(53473),r=a(57726),i=a.n(r),l=a(87965),c=a(37789),u=a(49817),d=a(49812),_=a(64650),p=a(46227),E=a(78023),A=a(86613),m=a(68375);const f=i().bind({"feedback-tour-dialog":"feedback-tour-dialog-ae109f7ad1b689c2d38d","feedback-tour-dialog__close":"feedback-tour-dialog__close-ac2e9f780c82dcc6aca2"});function h(){const e=(0,m.s)(),t=(0,d.h)(),[a,r]=(0,o.useState)(!1),i=(0,p.n)(),[h,R]=(0,o.useState)(!1),[T,g]=(0,o.useState)(),[S,b]=(0,E.n)(null==t?void 0:t.activeAssetsId,l.Y.AutoToursRated,!1),N=(0,o.useRef)(!1),O=i===_.ei.IDLE||a||S&&!T,v=()=>{e.trackGuiEvent("tour_rating_completed",{tool:"hlr"}),R(!0),b(!0)};return(0,o.useEffect)((()=>{O||N.current||(N.current=!0,e.trackGuiEvent("tour_rating_shown",{tool:"hlr"}))}),[e,O]),O?null:(0,n.jsxs)("div",{className:f("feedback-tour-dialog"),children:[(0,n.jsx)(s.J,{onClose:()=>{e.trackGuiEvent("tour_rating_closed",{tool:"hlr",data:JSON.stringify({survey_state:h?"answered":"unanswered"})}),r(!0),b(!0)},className:f("feedback-tour-dialog__close")}),h?(0,n.jsx)(A.z,{}):T?5!==T?(0,n.jsx)(c.J,{onComplete:v}):null:(0,n.jsx)(u.Q,{onHappiness:e=>{g(e),5===e&&v()},acceptanceStatus:i})]})}},7065:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var n=a(96540);if(5602==a.j)var o=a(68375);function s(){const e=(0,o.s)();return(0,n.useCallback)(((t={})=>{const a=Object.assign({feature:"auto_tours"},t);e.track("feature_rated",a)}),[e])}},37789:(e,t,a)=>{"use strict";a.d(t,{J:()=>L});var n=a(74848),o=a(96540),s=a(57726),r=a.n(s),i=a(17605),l=a(48270),c=a(39869),u=a(56147),d=a(13584);const{RATING_FEEDBACK_SPEED_TITLE:_,RATING_FEEDBACK_SPEED_MUCH_TOO_SLOW:p,RATING_FEEDBACK_SPEED_SOMEWHAT_SLOW:E,RATING_FEEDBACK_SPEED_ABOUT_RIGHT:A,RATING_FEEDBACK_SPEED_SOMEWHAT_FAST:m,RATING_FEEDBACK_SPEED_MUCH_TOO_FAST:f}=u.A.WORKSHOP.HLR,h="speed",R=[{text:p,value:"much_too_slow"},{text:E,value:"somewhat_slow"},{text:A,value:"about_right"},{text:m,value:"somewhat_fast"},{text:f,value:"much_too_fast"}],T=({answers:e,onChange:t,className:a})=>{const o=(0,c.Y)(),s=e=>()=>{const a=[e.value];t(h,a)};return(0,n.jsx)(n.Fragment,{children:R.map((t=>(0,n.jsx)(d.S,{enabled:!0,className:a,label:o.t(t.text),onChange:s(t),id:`${h}-${t.value}`,checkboxStyle:d.x.FILTER,checked:e.includes(t.value)},t.value)))})};T.Title=({className:e})=>{const t=(0,c.Y)();return(0,n.jsx)("span",{className:e,children:t.t(_)})};const{RATING_FEEDBACK_PATH_ISSUES_TITLE:g,RATING_FEEDBACK_PATH_ISSUES_MISSING_ROOMS_FLOORS:S,RATING_FEEDBACK_PATH_ISSUES_MISSING_OUTDOOR_AREAS:b,RATING_FEEDBACK_PATH_ISSUES_UNWANTED_AREAS:N,RATING_FEEDBACK_PATH_ISSUES_POOR_TRANSITIONS:O,RATING_FEEDBACK_PATH_ISSUES_CUT_THROUGH_WALLS:v,RATING_FEEDBACK_PATH_ISSUES_OTHER:I}=u.A.WORKSHOP.HLR,C="path_issues",x=[{text:S,value:"missing_rooms_floors"},{text:b,value:"missing_outdoor_areas"},{text:N,value:"unwanted_areas"},{text:O,value:"poor_transitions"},{text:v,value:"cut_through_walls"},{text:I,value:"other"}],j=({answers:e,onChange:t,className:a})=>{const o=(0,c.Y)(),s=a=>()=>{const n=e.includes(a.value)?e.filter((e=>e!==a.value)):[...e,a.value];t(C,n)};return(0,n.jsx)(n.Fragment,{children:x.map((t=>(0,n.jsx)(d.S,{enabled:!0,className:a,label:o.t(t.text),onChange:s(t),id:`${C}-${t.value}`,checkboxStyle:d.x.FILTER,checked:e.includes(t.value)},t.value)))})};j.Title=({className:e})=>{const t=(0,c.Y)();return(0,n.jsx)("span",{className:e,children:t.t(g)})};var G=a(7065);const D=r().bind({"follow-up":"follow-up-cea3e81ae764d2d3acf9","follow-up__header":"follow-up__header-ebce47e96a3393c9a5b7","follow-up__header__title":"follow-up__header__title-c93db6bd3e3546f923be","follow-up__question":"follow-up__question-fa254b75b79044ded2e4","follow-up__question__q":"follow-up__question__q-e956e48d1fbe08ec303b","follow-up__footer":"follow-up__footer-dee448c532eb0ee22e1e","follow-up__footer__progress":"follow-up__footer__progress-b21e3fae53d8efe5736b"}),{NEXT:P}=u.A,{MODEL_RATING:U}=u.A.WORKSHOP,w=[{id:"path_issues",Component:j},{id:"speed",Component:T}];function L({onComplete:e}){const t=(0,c.Y)(),[a,s]=(0,o.useState)(0),r=(0,G.C)(),[u,d]=(0,o.useState)({speed:[],path_issues:[]}),_=a+1===w.length,{id:p,Component:E}=w[a];return(0,n.jsxs)("div",{className:D("follow-up"),children:[(0,n.jsx)("header",{className:D("follow-up__header"),children:(0,n.jsx)(E.Title,{className:D("follow-up__header__title")})}),(0,n.jsx)("section",{className:D("follow-up__question"),children:(0,n.jsx)(E,{answers:u[p],onChange:(e,t)=>{d((a=>Object.assign(Object.assign({},a),{[e]:t})))},className:D("follow-up__question__q")})}),(0,n.jsxs)("footer",{className:D("follow-up__footer"),children:[(0,n.jsx)("small",{className:D("follow-up__footer__progress"),children:t.t(U.PROGRESS,{"current-question-number":a+1,"max-question-number":w.length})}),(0,n.jsx)(i.$,{onClick:()=>{const t=u[p]||[];t.length>0?r({issue_types:`${p}-${t.join()}`}):r({issue_types:`${p}-unanswered`}),_?e():s((e=>e+1))},variant:l.A.TERTIARY,label:_?t.t(U.SAVE):t.t(P)})]})]})}},49817:(e,t,a)=>{"use strict";a.d(t,{Q:()=>A});var n=a(74848),o=a(57726),s=a.n(o),r=a(56147),i=a(39869),l=a(64650),c=a(7065),u=a(19979);const d=s().bind({happiness:"happiness-bbb68f79765e756588e1",happiness__title:"happiness__title-c22c918224e8df082c20",happiness__text:"happiness__text-c3e8b15e61cd29628115"}),{RATING_FEEDBACK_HAPPINESS_SUBTITLE:_,RATING_FEEDBACK_HAPPINESS_SAVED_TITLE:p,RATING_FEEDBACK_HAPPINESS_REJECTED_TITLE:E}=r.A.WORKSHOP.HLR;function A({onHappiness:e,acceptanceStatus:t}){const a=(0,i.Y)(),o=(0,c.C)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:d("happiness"),children:[(0,n.jsxs)("span",{className:d("happiness__title"),children:[t===l.ei.ACCEPTED&&a.t(p),t===l.ei.DISCARDED&&a.t(E)]}),(0,n.jsx)("small",{className:d("happiness__text"),children:a.t(_)})]}),(0,n.jsx)(u.w,{setHappiness:t=>{e(t),o({happiness:t})}})]})}},98349:(e,t,a)=>{"use strict";a.d(t,{G:()=>P});var n=a(74848),o=a(57726),s=a.n(o),r=a(5262),i=a(90087),l=a(47982),c=a(73566),u=a(89432),d=a(28165),_=a(9158),p=a(20680),E=a(20420),A=a(48463),m=a(17605),f=a(48270),h=a(96540);var R=a(97800),T=a(39869),g=a(56147),S=a(68375),b=a(81088),N=a(22213),O=a(95541),v=a(29758),I=a(75399),C=a(97157);const x=s().bind({"generate-tour-wrapper":"generate-tour-wrapper-ab661a80ebaf46f43809","generate-tour-badge":"generate-tour-badge-b06817c1c4fbc07f5821","generate-tour-badge-label":"generate-tour-badge-label-b814da51a21e295e95a5","generate-tour-button":"generate-tour-button-ece102e6ae666c68c0b6","generate-tour-icon":"generate-tour-icon-bf4c1bda887a7e3f4a58","generate-tour-wrapper--disabled":"generate-tour-wrapper--disabled-fb0b219fdb0c1237946a"}),{GENERATING:j}=g.A.GENERIC,{BETA_TAG:G}=g.A.WORKSHOP.EDIT_BAR,{GENERATE_TOUR:D}=g.A.WORKSHOP.HLR,P=({className:e,onClick:t,onError:a,onTourGenerated:o})=>{const[s,g]=(0,h.useState)(null),P=(0,T.Y)(),U=(0,O.H)(),w=(0,_.A)(),L=(0,E.d)(),y=(0,p.I)(),H=(0,r.i)(d.Ye,d.lB),M=(0,l.j)(),k=(0,R.B0)("generate-tour-button"),K=(0,S.s)(),B=(0,i.L)(),F=(0,I.q)(),{isEdited:Y}=(0,v.e)(),V=w||L||F===C.R.DRAFT&&!Y,W=w?P.t(j):P.t(D);return(0,n.jsxs)("div",{className:x("generate-tour-wrapper",{"generate-tour-wrapper--disabled":V}),children:[(0,n.jsx)(A.E,{label:P.t(G),className:x("generate-tour-badge"),labelClass:x("generate-tour-badge-label")}),(0,n.jsx)(m.$,{ref:g,size:U?f.M.MEDIUM:f.M.SMALL,variant:f.A.FAB,disabled:V,icon:"sparkle",ariaLabel:W,label:U?void 0:W,theme:"dark",testId:"generate-tour-button",onClick:async e=>{if(!M||!y)return;t&&(K.trackGuiEvent("tour_generate_clicked",{tool:"hlr",event:e}),t()),B.issueCommand(new b.X6(N.a.GENERATING_TOUR,!0));const n=await y.generateTourFromTemplate(H,{modelId:M}).catch((e=>{y.cancelled||(k.error(e),a&&a(e))})).finally((()=>{B.issueCommand(new b.X6(N.a.GENERATING_TOUR,!1))}));n&&o&&o(n)},className:x("generate-tour-button",e),iconClassName:x("generate-tour-icon")}),s?(0,n.jsx)(u.w,{target:s,announcement:c.Q7.HLR_AUTOGEN_TOUR_READY}):null]})}},91719:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var n=a(74848),o=a(57726),s=a.n(o),r=a(68419),i=a(22213),l=a(37049),c=a(70961),u=a(57484);const d=s().bind({"loading-tour-modal-wrapper":"loading-tour-modal-wrapper-c88c8dc3a641e693bffb","loading-tour-modal":"loading-tour-modal-e2c62fe987b5fc1509ac"});function _(){const e=(0,r.t)(),t=e===i.a.GENERATING_TOUR||e===i.a.SAVING_GENERATED_TOUR;return(0,n.jsx)(l.Q,{noHeader:!0,preventClose:!0,open:t,className:d("loading-tour-modal-wrapper"),children:(0,n.jsxs)("div",{className:d("loading-tour-modal"),children:[e===i.a.GENERATING_TOUR?(0,n.jsx)(u.l,{}):null,e===i.a.SAVING_GENERATED_TOUR?(0,n.jsx)(c.P,{}):null]})})}},57484:(e,t,a)=>{"use strict";a.d(t,{l:()=>T});var n=a(74848),o=a(57726),s=a.n(o),r=a(96540),i=a(17904),l=a(56147),c=a(39869),u=a(60353),d=a(17605),_=a(48270),p=a(71687);var E=a(68375);const A=s().bind({"generating-tour-title":"generating-tour-title-d06d00d884d3ce4012ad","generating-tour-description":"generating-tour-description-acce2beef0fd56a4d0de"}),{CANCELING:m}=l.A.GENERIC,{GENERATING_TOUR:f,GENERATING_TOUR_MESSAGE:h,CANCEL_GENERATION:R}=l.A.WORKSHOP.HLR;function T(){const e=(0,E.s)(),t=(0,c.Y)(),[a,o]=(0,r.useState)(!1),s=(0,i.S)(p.Gw),l=(0,r.useCallback)((t=>{e.trackGuiEvent("tour_generation_canceled",{tool:"hlr",event:t}),null==s||s.cancelGeneration(),o(!0)}),[e,s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.t,{}),(0,n.jsx)("span",{className:A("generating-tour-title"),children:t.t(f)}),(0,n.jsx)("span",{className:A("generating-tour-description"),children:t.t(h)}),(0,n.jsx)(d.$,{disabled:a,onClick:l,size:_.M.SMALL,variant:_.A.SECONDARY,label:a?t.t(m):t.t(R),testId:"btn-cancel-tour-generation"})]})}},70961:(e,t,a)=>{"use strict";a.d(t,{P:()=>p});var n=a(74848),o=a(57726),s=a.n(o),r=a(93137),i=a(9241),l=a(56147),c=a(39869);const u=s().bind({"saving-tour-title":"saving-tour-title-b70787cb6f1521c396da","saving-tour-description":"saving-tour-description-b3ffa59275f9fc5cb016"}),{SAVING_TOUR:d,SAVING_TOUR_MESSAGE:_}=l.A.WORKSHOP.HLR;function p(){const e=(0,c.Y)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:u("saving-tour-title"),children:[(0,n.jsx)(r.I,{name:"download",size:i.l.MEDIUM}),(0,n.jsx)("span",{children:e.t(d)})]}),(0,n.jsx)("span",{className:u("saving-tour-description"),children:e.t(_)})]})}},46227:(e,t,a)=>{"use strict";a.d(t,{n:()=>r});var n=a(87805),o=a(64650),s=a(62311);const r=(0,n.u)(s.u,"acceptanceStatus",o.ei.IDLE)},29758:(e,t,a)=>{"use strict";if(a.d(t,{e:()=>r}),5602==a.j)var n=a(98236);if(5602==a.j)var o=a(62311);var s=a(96540);const r=()=>{const e=(0,n.Ez)(o.u),[t,a]=(0,s.useState)(0),[r,i]=(0,s.useState)(0),[l,c]=(0,s.useState)(0);return(0,s.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsAdded",a);return a(e.tourStopsAdded),()=>null==t?void 0:t.cancel()}),[e]),(0,s.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsRemoved",i);return i(e.tourStopsRemoved),()=>null==t?void 0:t.cancel()}),[e]),(0,s.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsUpdated",c);return c(e.tourStopsUpdated),()=>null==t?void 0:t.cancel()}),[e]),{added:t,removed:r,updated:l,isEdited:t>0||r>0||l>0}}},25516:(e,t,a)=>{"use strict";if(a.d(t,{a:()=>s}),5602==a.j)var n=a(5262);if(5602==a.j)var o=a(28165);function s(){return(0,n.i)(o.$0,!1)}},35354:(e,t,a)=>{"use strict";a.d(t,{m:()=>s});var n=a(87805),o=a(62311);const s=(0,n.u)(o.u,"stashedTour",null)},36422:(e,t,a)=>{"use strict";if(a.r(t),a.d(t,{default:()=>n.K}),5602==a.j)var n=a(48628)},78023:(e,t,a)=>{"use strict";if(a.d(t,{n:()=>s}),5602==a.j)var n=a(55285);const o=new(a(97800).Vy)("use-model-local-storage");function s(e,t,a){const[s,r]=(0,n.Mj)(t,{});let i=a;if(e){const t=s[e];void 0!==t&&(i=t)}return[i,t=>{e?(s[e]=t,r(s)):o.warn(`No model ID set, can't save ${t}`)}]}},37049:(e,t,a)=>{"use strict";a.d(t,{Q:()=>E});var n=a(74848),o=a(96540),s=a(40961),r=a(32485),i=a.n(r),l=a(56848),c=a(89087),u=a(53473),d=a(81088),_=a(90087),p=a(19072);function E({children:e,className:t,title:a,open:r,onClose:E,fullModal:A=!1,noHeader:m=!1,preventClose:f=!1}){const h=(0,p.x)(),R=(0,_.L)(),T=(0,o.useRef)(!1),g=(0,o.useCallback)((()=>{f||(R.issueCommand(new d.rH),E&&E())}),[R,E,f]),S=(0,o.useCallback)((()=>{T.current=!0,window.setTimeout((()=>{T.current=!1}),500)}),[]),b=(0,o.useCallback)((()=>{T.current&&(T.current=!1,g())}),[g]),N=h.querySelector("#react-render-root")||document.body,O=i()(t,{open:r,"full-modal":A});return(0,s.createPortal)((0,n.jsx)(l.w,{open:r,className:i()("modal-background",{open:r}),onPointerUp:b,onPointerDown:S,children:(0,n.jsxs)(c.l,{className:O,onClose:g,children:[m?null:(0,n.jsxs)("header",{className:"modal-header",children:[(0,n.jsx)("div",{className:"modal-title",children:a}),(0,n.jsx)(u.J,{onClose:g})]}),e]})}),N)}},89432:(e,t,a)=>{"use strict";a.d(t,{w:()=>E});var n=a(74848),o=a(96540),s=a(56147),r=a(73566);const{NEW_BADGE:i}=s.A.WORKSHOP.EDIT_BAR,{AUTOGEN_TOUR_CREATED_TITLE:l,AUTOGEN_TOUR_CREATED_MESSAGE:c,AUTOGEN_TOUR_READY_TITLE:u,AUTOGEN_TOUR_READY_MESSAGE:d}=s.A.WORKSHOP.HLR,_={[r.Q7.HLR_AUTOGEN_TOUR_CREATED]:{AnnouncementComponent:(0,o.lazy)((()=>Promise.all([a.e(654),a.e(8636)]).then(a.bind(a,61055)))),configProps:{icon:"sparkle",badgePhraseKey:i,titlePhraseKey:l,messagePhraseKey:c}},[r.Q7.HLR_AUTOGEN_TOUR_READY]:{AnnouncementComponent:(0,o.lazy)((()=>Promise.all([a.e(654),a.e(8636)]).then(a.bind(a,61055)))),configProps:{icon:"sparkle",badgePhraseKey:i,titlePhraseKey:u,messagePhraseKey:d,tooltipOptions:{placement:"top",strategy:"absolute"}}}};var p=a(78591);function E({target:e,announcement:t}){if((0,p.C)(t)!==r.zR.OPEN)return null;const{AnnouncementComponent:a,configProps:s}=_[t];return(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(a,Object.assign({},s,{target:e,announcement:t}))})}},61055:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(74848),o=a(57726),s=a.n(o),r=a(62772),i=a(39869),l=a(95541),c=a(73566),u=a(93137),d=a(9241),_=a(17605),p=a(48270),E=a(15986);const A=s().bind({"tooltip-announcement":"tooltip-announcement-ab9c5c92d37b5e0bcf7f","tooltip-announcement__badge":"tooltip-announcement__badge-b221d17948cfdbbdf16d","tooltip-announcement__tooltip":"tooltip-announcement__tooltip-fcbf1e2dae0a94aea35f","tooltip-announcement__title":"tooltip-announcement__title-d70619fad9f62188daf7","tooltip-announcement__title__text":"tooltip-announcement__title__text-c81607b6df5124175ce4","tooltip-announcement__title__icon":"tooltip-announcement__title__icon-a42abaac99d4ad070ec9","tooltip-announcement__close":"tooltip-announcement__close-a61f337eee8b3ecbebed","tooltip-announcement__body":"tooltip-announcement__body-e20936f054e79d510ee9","tooltip-announcement__body__text":"tooltip-announcement__body__text-a5faed9a587904ecff51"}),m=({icon:e,target:t,announcement:a,titlePhraseKey:o,badgePhraseKey:s,messagePhraseKey:m,tooltipOptions:f={}})=>{const h=(0,i.Y)(),R=(0,l.H)(),T=(0,r.R)(),g={title:h.t(o),message:h.t(m)};s&&(g.badge=h.t(s));const S=(0,n.jsxs)("div",{className:A("tooltip-announcement"),children:[g.badge?(0,n.jsx)("span",{className:A("tooltip-announcement__badge"),children:g.badge}):null,(0,n.jsxs)("div",{className:A("tooltip-announcement__title"),children:[e?(0,n.jsx)(u.I,{name:e,size:d.l.SMALL,className:A("tooltip-announcement__title__icon")}):null,(0,n.jsx)("span",{title:g.title,className:A("tooltip-announcement__title__text"),children:g.title})]}),(0,n.jsx)(_.$,{icon:"close",onClick:()=>{null==T||T.setToolAnnouncementState(a,c.zR.CLOSE)},size:p.M.SMALL,variant:p.A.TERTIARY,className:A("tooltip-announcement__close")}),(0,n.jsx)("div",{className:A("tooltip-announcement__body"),children:(0,n.jsx)("p",{className:A("tooltip-announcement__body__text"),children:g.message})})]});return(0,n.jsx)(E.m,Object.assign({sticky:!0,size:"large",theme:"light",title:S,target:t,trigger:"static",placement:R?"top":"left",className:A("tooltip-announcement__tooltip")},f))}},62772:(e,t,a)=>{"use strict";a.d(t,{R:()=>s});var n=a(17904),o=a(71687);function s(){return(0,n.S)(o.uq)}},78591:(e,t,a)=>{"use strict";a.d(t,{C:()=>r});var n=a(96540),o=a(73566),s=a(62772);function r(e){const t=(0,s.R)(),[a,r]=(0,n.useState)((()=>{var a;return null!==(a=null==t?void 0:t.getToolAnnouncementState(e))&&void 0!==a?a:o.zR.IDLE}));return(0,n.useEffect)((()=>{if(!t)return;r(t.getToolAnnouncementState(e));const a=t.onToolAnnouncementStateChanged(e,((e,t)=>{r(t)}));return()=>{a.cancel()}}),[t,e]),a}},62311:(e,t,a)=>{"use strict";a.d(t,{u:()=>s});var n=a(77201),o=a(64650);class s extends n.B_{constructor(){super(...arguments),this.name="tours-generator-view-data",this.stashedTour=null,this.isTourEdited=!1,this.tourStopsAdded=0,this.tourStopsRemoved=0,this.tourStopsUpdated=0,this.acceptanceStatus=o.ei.IDLE}setStashedTour(e){this.stashedTour=e,this.commit()}resetEditStatistics(){this.tourStopsAdded=0,this.tourStopsRemoved=0,this.tourStopsUpdated=0}setAcceptanceStatus(e){this.acceptanceStatus=e,this.commit()}}},28165:(e,t,a)=>{"use strict";a.d(t,{$0:()=>s,C0:()=>d,H$:()=>E,JK:()=>f,OU:()=>A,Vq:()=>_,Ye:()=>i,au:()=>p,cD:()=>m,hd:()=>c,lB:()=>r,nz:()=>u,pH:()=>l});var n=a(64650),o=a(60152);const s="features/autotours-feedback",r=n.pk.SCOUT,i="autotours_template",l="autotours_generate",c={width:480,height:270},u="autotours_pan_angle",d=50,_="autotours_pan_speed",p=o.BU,E="autotours_regen_text",A=!1,m="autotours_defurnish",f=!0},64650:(e,t,a)=>{"use strict";var n,o,s,r;a.d(t,{ei:()=>o,pT:()=>r,pk:()=>n,sA:()=>s}),function(e){e.SCOUT="scout",e.VISION="vision",e.DIGITAL_PRO="digitalpro"}(n||(n={})),function(e){e.IDLE="idle",e.ACCEPTED="accepted",e.DISCARDED="discarded"}(o||(o={})),function(e){e.CANCELED="canceled",e.COMPLETED="completed",e.CONTINUED="continued",e.FAILED="failed",e.RUNNING="running",e.TERMINATED="terminated",e.TIMEOUT="timeout",e.UNKNOWN="unknown"}(s||(s={})),function(e){e.BALCONY="balcony",e.BASEMENT="basement",e.BATHROOM="bathroom",e.BEDROOM="bedroom",e.CLOSET="closet",e.CORRIDOR="corridor",e.DINING="dining",e.DOLLHOUSE="dollhouse",e.DRIVEWAY="driveway",e.ENTRANCE="entrance",e.EXERCISE="exercise",e.FACADE="facade",e.GAME="game",e.GARAGE="garage",e.HALLWAY="hallway",e.KITCHEN="kitchen",e.LAUNDRY="laundry",e.LIVING="living",e.LOBBY="lobby",e.LOFT="loft",e.MIXED="mixed",e.OFFICE="office",e.OTHER="other",e.OUTDOOR="outdoor",e.PANTRY="pantry",e.PATIO="patio",e.POOL="pool",e.STAIRCASE="staircase",e.UNFURNISHED="unfurnished",e.UNKNOWN="unknown",e.UTILITY="utility",e.YARD="yard"}(r||(r={}))},9158:(e,t,a)=>{"use strict";if(a.d(t,{A:()=>s}),5602==a.j)var n=a(68419);if(5602==a.j)var o=a(22213);function s(){const e=(0,n.t)();return e===o.a.GENERATING_TOUR||e===o.a.SAVING_GENERATED_TOUR}},20680:(e,t,a)=>{"use strict";if(a.d(t,{I:()=>s}),5602==a.j)var n=a(71687);if(5602==a.j)var o=a(17904);const s=()=>(0,o.S)(n.Gw)}}]);